!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(function(){return(()=>{var t={322:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(r=n(378))&&r.__esModule?r:{default:r},a={getItem:function(t,e){return a.multiGet([t]).then((function(t){return t[0][1]})).then((function(t){return e&&e(null,t),t})).catch((function(t){return e&&e(t,null),t}))},setItem:function(t,e,n){return a.multiSet([[t,e]]).then((function(t){return n&&n(null,t),t})).catch((function(t){return n&&n(t,null),t}))},getAllKeys:function(t){return Promise.resolve(Object.keys(localStorage)).then((function(e){return t&&t(null,e),e})).catch((function(e){return t&&t(e,null),e}))},removeItem:function(t,e){return a.multiRemove([t]).then((function(){e&&e(null)})).catch((function(t){e&&e(t,null)}))},clear:function(){return new Promise((function(t){window.localStorage.clear(),t()}))},mergeItem:function(t,e){return a.multiMerge([[t,e]])},multiGet:function(t){return new Promise((function(e){e(t.reduce((function(t,e){return t.concat([[e,localStorage.getItem(e)]])}),[]))}))},multiSet:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],o=e[1];try{localStorage.setItem(n,o)}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiMerge:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],a=e[1],s=localStorage.getItem(n);if(s)try{localStorage.setItem(n,JSON.stringify((0,o.default)(JSON.parse(s),JSON.parse(a))))}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiRemove:function(t){return new Promise((function(e){t.forEach((function(t){return window.localStorage.removeItem(t)})),e()}))},flushGetRequests:function(){console.warn("AsyncStorage.flushGetRequests: Not supported on `web`")}};e.default=a},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},378:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[o]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[a]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var f="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,g=f||h||Function("return this")(),v=e&&!e.nodeType&&e,p=v&&t&&!t.nodeType&&t,y=p&&p.exports===v,d=y&&f.process,_=function(){try{return p&&p.require&&p.require("util").types||d&&d.binding&&d.binding("util")}catch(t){}}(),b=_&&_.isTypedArray;function m(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S,j,O,w=Array.prototype,I=Function.prototype,F=Object.prototype,A=g["__core-js_shared__"],E=I.toString,P=F.hasOwnProperty,T=(S=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",x=F.toString,N=E.call(Object),C=RegExp("^"+E.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=y?g.Buffer:void 0,J=g.Symbol,k=g.Uint8Array,z=(L&&L.allocUnsafe,j=Object.getPrototypeOf,O=Object,function(t){return j(O(t))}),D=Object.create,R=F.propertyIsEnumerable,M=w.splice,U=J?J.toStringTag:void 0,B=function(){try{var t=ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=L?L.isBuffer:void 0,$=Math.max,q=Date.now,H=ut(g,"Map"),V=ut(Object,"create"),Z=function(){function t(){}return function(e){if(!mt(e))return{};if(D)return D(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=this.__data__=new W(t);this.size=e.size}function Y(t,e,n){(void 0!==n&&!gt(t[e],n)||void 0===n&&!(e in t))&&nt(t,e,n)}function tt(t,e,n){var r=t[e];P.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||nt(t,e,n)}function et(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function nt(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}K.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},K.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},K.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},K.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:P.call(e,t)},K.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V&&void 0===e?r:e,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(t){var e=this.__data__,n=et(e,t);return!(n<0||(n==e.length-1?e.pop():M.call(e,n,1),--this.size,0))},W.prototype.get=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]},W.prototype.has=function(t){return et(this.__data__,t)>-1},W.prototype.set=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(H||W),string:new K}},X.prototype.delete=function(t){var e=st(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return st(this,t).get(t)},X.prototype.has=function(t){return st(this,t).has(t)},X.prototype.set=function(t,e){var n=st(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new W,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(t,e),this.size=n.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":U&&U in Object(t)?function(t){var e=P.call(t,U),n=t[U];try{t[U]=void 0;var r=!0}catch(t){}var i=x.call(t);return r&&(e?t[U]=n:delete t[U]),i}(t):function(t){return x.call(t)}(t)}function it(t){return St(t)&&rt(t)==o}function ot(t,e,n,r,i){t!==e&&function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}}(e,(function(o,a){if(i||(i=new Q),mt(o))!function(t,e,n,r,i,o,a){var u=ft(t,n),l=ft(e,n),c=a.get(l);if(c)Y(t,n,c);else{var f,h,g,v,p,y=o?o(u,l,n+"",t,e,a):void 0,d=void 0===y;if(d){var _=pt(l),b=!_&&dt(l),m=!_&&!b&&jt(l);y=l,_||b||m?pt(u)?y=u:St(p=u)&&yt(p)?y=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):b?(d=!1,y=function(t,e){return t.slice()}(l)):m?(d=!1,v=new(g=(f=l).buffer).constructor(g.byteLength),new k(v).set(new k(g)),h=v,y=new f.constructor(h,f.byteOffset,f.length)):y=[]:function(t){if(!St(t)||rt(t)!=s)return!1;var e=z(t);if(null===e)return!0;var n=P.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==N}(l)||vt(l)?(y=u,vt(u)?y=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=void 0;void 0===u&&(u=t[s]),i?nt(n,s,u):tt(n,s,u)}return n}(t,Ot(t))}(u):mt(u)&&!_t(u)||(y=function(t){return"function"!=typeof t.constructor||ct(t)?{}:Z(z(t))}(l))):d=!1}d&&(a.set(l,y),i(y,l,r,o,a),a.delete(l)),Y(t,n,y)}}(t,e,a,n,ot,r,i);else{var u=r?r(ft(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Y(t,a,u)}}),Ot)}var at=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ft;function st(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!mt(t)||function(t){return!!T&&T in t}(t))&&(_t(t)?C:u).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function lt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&l.test(t))&&t>-1&&t%1==0&&t<e}function ct(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||F)}function ft(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ht=function(t){var e=0,n=0;return function(){var r=q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(at);function gt(t,e){return t===e||t!=t&&e!=e}var vt=it(function(){return arguments}())?it:function(t){return St(t)&&P.call(t,"callee")&&!R.call(t,"callee")},pt=Array.isArray;function yt(t){return null!=t&&bt(t.length)&&!_t(t)}var dt=G||function(){return!1};function _t(t){if(!mt(t))return!1;var e=rt(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function bt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function St(t){return null!=t&&"object"==typeof t}var jt=b?function(t){return function(e){return t(e)}}(b):function(t){return St(t)&&bt(t.length)&&!!c[rt(t)]};function Ot(t){return yt(t)?function(t,e){var n=pt(t),r=!n&&vt(t),i=!n&&!r&&dt(t),o=!n&&!r&&!i&&jt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!P.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||lt(l,u))||s.push(l);return s}(t,!0):function(t){if(!mt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ct(t),n=[];for(var r in t)("constructor"!=r||!e&&P.call(t,r))&&n.push(r);return n}(t)}var wt,It=(wt=function(t,e,n){ot(t,e,n)},function(t,e){return ht(function(t,e,n){return e=$(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),m(t,this,s)}}(t,e,Ft),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=wt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!mt(n))return!1;var r=typeof e;return!!("number"==r?yt(n)&&lt(e,n.length):"string"==r&&e in n)&&gt(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&wt(t,a,n)}return t})));function Ft(t){return t}t.exports=It},142:function(t,e,n){"use strict";var r,i,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var s="BULLET_TRAIN_DB",u="BULLET_TRAIN_EVENT",l="https://api.flagsmith.com/api/v1/",c=n(63),f=function(t){return"Attempted to "+t+" a user before calling flagsmith.init. Call flagsmith.init first, if you wish to prevent it sending a request for flags, call init with preventFetch:true."},h=function(){function t(t){var e=this;this.getJSON=function(t,n,i){var o=e,a=o.environmentID,s=o.headers,u={method:n||"GET",body:i,headers:{"x-environment-key":a}};return n&&"GET"!==n&&(u.headers["Content-Type"]="application/json; charset=utf-8"),s&&Object.assign(u.headers,s),r(t,u).then((function(t){return t.text().then((function(e){var n=e;try{n=JSON.parse(e)}catch(t){}return t.ok?n:Promise.reject(n)}))}))},this.getFlags=function(t,n){var r=e,i=r.onChange,a=r.onError,s=r.identity,u=r.api,l=!1,f=function(t,n){var r=t.flags,a=t.traits;e.withTraits=!1;var s={},u={};if(a=a||[],(r=r||[]).forEach((function(t){s[t.feature.name.toLowerCase().replace(/ /g,"_")]={id:t.feature.id,enabled:t.enabled,value:t.feature_state_value}})),a.forEach((function(t){u[t.trait_key.toLowerCase().replace(/ /g,"_")]=t.trait_value})),e.oldFlags=o({},e.flags),n){var l={};n.map((function(t){l[t.name]=t})),e.segments=l}var f=c(e.flags,s),h=c(e.traits,u);e.flags=s,e.traits=u,e.updateStorage(),i&&i(e.oldFlags,{isFromServer:!0,flagsChanged:!f,traitsChanged:!h})};return s?Promise.all([e.withTraits?e.getJSON(u+"identities/","POST",JSON.stringify({identifier:s,traits:Object.keys(e.withTraits).map((function(t){return{trait_key:t,trait_value:e.withTraits[t]}}))})):e.getJSON(u+"identities/?identifier="+encodeURIComponent(s))]).then((function(e){f(e[0],e[1]),t&&!l&&(l=!0,t())})).catch((function(t){var e=t.message;a&&a({message:e})})):Promise.all([e.getJSON(u+"flags/")]).then((function(e){f({flags:e[0]},null),t&&!l&&(l=!0,t())})).catch((function(t){n&&!l&&(l=!0,n(t)),a&&a(t)}))},this.analyticsFlags=function(){var t=e.api;if(0!==Object.getOwnPropertyNames(e.evaluationEvent).length)return e.getJSON(t+"analytics/flags/","POST",JSON.stringify(e.evaluationEvent)).then((function(t){var n=e.getState();e.setState(o(o({},n),{evaluationEvent:{}})),e.updateEventStorage()})).catch((function(t){e.log("Exception fetching evaluationEvent",t)}))},this.analyticsInterval=null,this.api=null,this.cacheFlags=null,this.enableAnalytics=null,this.enableLogs=null,this.environmentID=null,this.evaluationEvent=null,this.flags=null,this.getFlagInterval=null,this.headers=null,this.initialised=null,this.oldFlags=null,this.onChange=null,this.onError=null,this.identity=null,this.segments=null,this.ticks=null,this.timer=null,this.traits=null,this.withTraits=null,this.evaluateFlag=function(t){if(e.enableAnalytics){if(!e.evaluationEvent)return;void 0===e.evaluationEvent[t]&&(e.evaluationEvent[t]=0),e.evaluationEvent[t]+=1}e.updateEventStorage()},this.getValue=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=null;return n&&(r=n.value),e.evaluateFlag(t),r},this.getTrait=function(t){return e.traits&&e.traits[t.toLowerCase().replace(/ /g,"_")]},this.setTrait=function(t,n){var r=e,i=r.getJSON,o=r.identity,a=r.api;if(a){var s={identity:{identifier:o},trait_key:t,trait_value:n};return i("".concat(a,"traits/"),"POST",JSON.stringify(s)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTrait"))},this.setTraits=function(t){var n=e,r=n.getJSON,i=n.identity,o=n.api;if(o){t&&"object"==typeof t||console.error("Expected object for flagsmith.setTraits");var a=Object.keys(t).map((function(e){return{identity:{identifier:i},trait_key:e,trait_value:t[e]}}));return r("".concat(o,"traits/bulk/"),"PUT",JSON.stringify(a)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTraits"))},this.incrementTrait=function(t,n){var r=e,i=r.getJSON,o=r.identity,a=r.api;return i("".concat(a,"traits/increment-value/"),"POST",JSON.stringify({trait_key:t,increment_by:n,identifier:o})).then(e.getFlags)},this.hasFeature=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=!1;return n&&n.enabled&&(r=!0),e.evaluateFlag(t),r},r=t.fetch?t.fetch:global.fetch,i=t.AsyncStorage}return t.prototype.init=function(t){var e=this,n=t.environmentID,r=t.api,a=void 0===r?l:r,c=t.headers,f=t.onChange,h=t.cacheFlags,g=t.onError,v=t.defaultFlags,p=t.preventFetch,y=t.enableLogs,d=t.enableAnalytics,_=t.AsyncStorage,b=t.state;return new Promise((function(t,r){if(e.environmentID=n,e.api=a,e.headers=c,e.getFlagInterval=null,e.analyticsInterval=null,e.onChange=f,e.onError=g,e.enableLogs=y,e.enableAnalytics=d||!1,e.flags=Object.assign({},v)||{},e.initialised=!0,e.ticks=1e4,e.timer=e.enableLogs?(new Date).valueOf():null,_&&(i=_),e.cacheFlags=void 0!==i&&h,e.setState(b),!n)throw r("Please specify a environment id"),"Please specify a environment id";i.getItem(u).then((function(t){if(t)try{e.evaluationEvent=JSON.parse(t)}catch(t){e.evaluationEvent={}}else e.evaluationEvent={};e.analyticsInterval=setInterval(e.analyticsFlags,e.ticks)})),e.enableAnalytics&&(e.analyticsInterval&&clearInterval(e.analyticsInterval),i.getItem(u,(function(t,n){if(n){var r=JSON.parse(n);r&&(b=e.getState(),e.log("Retrieved events from cache",n),e.setState(o(o({},b),{evaluationEvent:r})))}}))),h?i.getItem(s,(function(n,i){if(i)try{var o=JSON.parse(i);o&&o.api===e.api&&o.environmentID===e.environmentID&&(e.setState(o),e.log("Retrieved flags from cache",o)),e.flags?(e.onChange&&e.onChange(null,{isFromServer:!1}),e.oldFlags=e.flags,t(!0),p||e.getFlags()):p?t(!0):e.getFlags(t,r)}catch(t){e.log("Exception fetching cached logs",t)}else p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})):p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})).catch((function(t){return g&&g(t)}))},t.prototype.getAllFlags=function(){return this.flags},t.prototype.identify=function(t,e){return this.identity=t,e&&(this.withTraits=e),this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.getState=function(){return{api:this.api,environmentID:this.environmentID,flags:this.flags,identity:this.identity,segments:this.segments,traits:this.traits,evaluationEvent:this.evaluationEvent}},t.prototype.setState=function(t){t&&(this.initialised=!0,this.api=t.api||this.api||l,this.environmentID=t.environmentID||this.environmentID,this.flags=t.flags||this.flags,this.identity=t.identity||this.identity,this.segments=t.segments||this.segments,this.traits=t.traits||this.traits,this.evaluationEvent=t.evaluationEvent||this.evaluationEvent)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enableLogs&&console.log.apply(this,a(["FLAGSMITH:",(new Date).valueOf()-this.timer,"ms"],t,!0))},t.prototype.updateStorage=function(){if(this.cacheFlags){var t=JSON.stringify(this.getState());this.log("Setting storage",t),i.setItem(s,t)}},t.prototype.updateEventStorage=function(){if(this.enableAnalytics){var t=JSON.stringify(this.getState().evaluationEvent);this.log("Setting event storage",t),i.setItem(u,t)}},t.prototype.logout=function(){return this.identity=null,this.segments=null,this.traits=null,this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.startListening=function(t){void 0===t&&(t=1e3),this.getFlagInterval&&clearInterval(this.getFlagInterval),this.getFlagInterval=setInterval(this.getFlags,t)},t.prototype.stopListening=function(){clearInterval(this.getFlagInterval),this.getFlagInterval=null},t.prototype.getSegments=function(){},t}();t.exports=function(t){var e=t.fetch,n=t.AsyncStorage;return new h({fetch:e,AsyncStorage:n})}},869:(t,e,n)=>{"use strict";function r(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),a.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)}))}n.d(e,{Z:()=>r})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.createFlagsmithInstance=void 0;var e=n(869).Z,i=n(322),o=n(142),a=o({AsyncStorage:i.default,fetch:e});"undefined"!=typeof window&&(window.flagsmith=a),t.default=a,t.createFlagsmithInstance=function(){return o({AsyncStorage:i.default,fetch:e})}})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VixVQUFZQSxHQUV2QixVQUFlQSxFQUNGLEVBQUFDLHdCQUEwQixXQUNuQyxPQUFPRixFQUFLLENBQUMvSCxhQUFZLFVBQUU0RSxNQUFLLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbGFnc21pdGgvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL25vZGVfbW9kdWxlcy9AY2FsbHN0YWNrL2FzeW5jLXN0b3JhZ2UvbGliL2luZGV4LmpzIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL25vZGVfbW9kdWxlcy9mYXN0LWRlZXAtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5tZXJnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9mbGFnc21pdGgtY29yZS50cyIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9ub2RlX21vZHVsZXMvdW5mZXRjaC9kaXN0L3VuZmV0Y2gubW9kdWxlLmpzIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mbGFnc21pdGgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGluZGV4LmpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHJlYWN0LW5hdGl2ZS1jcm9zcy1wbGF0Zm9ybS1zdG9yYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgTWlrZSBHcmFib3dza2kgb24gMTIvMTIvMTYuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCDCqSAyMDE2IENhbGxzdGFjay5pby4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaC5tZXJnZScpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQVBJID0ge1xuICBnZXRJdGVtOiBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2IpIHtcbiAgICByZXR1cm4gQVBJLm11bHRpR2V0KFtrZXldKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgIHJldHVybiB2YWx1ZXNbMF1bMV07XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2IgJiYgY2IobnVsbCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYiAmJiBjYihlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9KTtcbiAgfSxcbiAgc2V0SXRlbTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYikge1xuICAgIHJldHVybiBBUEkubXVsdGlTZXQoW1trZXksIHZhbHVlXV0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNiICYmIGNiKG51bGwsIGRhdGEpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gIH0sXG4gIGdldEFsbEtleXM6IGZ1bmN0aW9uIGdldEFsbEtleXMoY2IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNiICYmIGNiKG51bGwsIGRhdGEpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gIH0sXG4gIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYikge1xuICAgIHJldHVybiBBUEkubXVsdGlSZW1vdmUoW2tleV0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2IgJiYgY2IobnVsbCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICB9KTtcbiAgfSxcbiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9LFxuICBtZXJnZUl0ZW06IGZ1bmN0aW9uIG1lcmdlSXRlbShrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIEFQSS5tdWx0aU1lcmdlKFtba2V5LCB2YWx1ZV1dKTtcbiAgfSxcbiAgbXVsdGlHZXQ6IGZ1bmN0aW9uIG11bHRpR2V0KGtleXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIHZhciBrZXlWYWx1ZXMgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoW1trZXksIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSldXSk7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXNvbHZlKGtleVZhbHVlcyk7XG4gICAgfSk7XG4gIH0sXG4gIG11bHRpU2V0OiBmdW5jdGlvbiBtdWx0aVNldChrdlBhaXJzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcblxuICAgICAga3ZQYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPiAwID8gcmVqZWN0KGVycm9ycykgOiByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIG11bHRpTWVyZ2U6IGZ1bmN0aW9uIG11bHRpTWVyZ2Uoa3ZQYWlycykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG5cbiAgICAgIGt2UGFpcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjRbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWY0WzFdO1xuXG4gICAgICAgIHZhciByYXdWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgaWYgKCFyYXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSgoMCwgX2xvZGFzaDIuZGVmYXVsdCkoSlNPTi5wYXJzZShyYXdWYWx1ZSksIEpTT04ucGFyc2UodmFsdWUpKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID4gMCA/IHJlamVjdChlcnJvcnMpIDogcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9LFxuICBtdWx0aVJlbW92ZTogZnVuY3Rpb24gbXVsdGlSZW1vdmUoa2V5cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIGZsdXNoR2V0UmVxdWVzdHM6IGZ1bmN0aW9uIGZsdXNoR2V0UmVxdWVzdHMoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY29uc29sZS53YXJuKCdBc3luY1N0b3JhZ2UuZmx1c2hHZXRSZXF1ZXN0czogTm90IHN1cHBvcnRlZCBvbiBgd2ViYCcpO1xuICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBUEk7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICByZXR1cm4gdHlwZXM7XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbnZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICB9XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAqICBjb3VudGVycGFydHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfSwga2V5c0luKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gIGlmIChzdGFja2VkKSB7XG4gICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBpZiAoaXNDb21tb24pIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAqL1xuZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC41LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHtcbiAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAqIH07XG4gKlxuICogdmFyIG90aGVyID0ge1xuICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICogfTtcbiAqXG4gKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICovXG52YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiIsImltcG9ydCB7SUZsYWdzbWl0aH0gZnJvbSBcIi4vcmVhY3QtbmF0aXZlLWZsYWdzbWl0aFwiO1xuXG5sZXQgX2ZldGNoOiB0eXBlb2YgZ2xvYmFsLmZldGNoO1xubGV0IEFzeW5jU3RvcmFnZTtcbmNvbnN0IEZMQUdTTUlUSF9LRVkgPSBcIkJVTExFVF9UUkFJTl9EQlwiO1xuY29uc3QgRkxBR1NNSVRIX0VWRU5UID0gXCJCVUxMRVRfVFJBSU5fRVZFTlRcIjtcbmNvbnN0IGRlZmF1bHRBUEkgPSAnaHR0cHM6Ly9hcGkuZmxhZ3NtaXRoLmNvbS9hcGkvdjEvJztcbmNvbnN0IGRlZXBFcXVhbCA9IHJlcXVpcmUoJ2Zhc3QtZGVlcC1lcXVhbCcpO1xuXG5jb25zdCBpbml0RXJyb3IgPSBmdW5jdGlvbiAoY2FsbGVyKSB7XG4gICAgcmV0dXJuIFwiQXR0ZW1wdGVkIHRvIFwiICsgY2FsbGVyICsgXCIgYSB1c2VyIGJlZm9yZSBjYWxsaW5nIGZsYWdzbWl0aC5pbml0LiBDYWxsIGZsYWdzbWl0aC5pbml0IGZpcnN0LCBpZiB5b3Ugd2lzaCB0byBwcmV2ZW50IGl0IHNlbmRpbmcgYSByZXF1ZXN0IGZvciBmbGFncywgY2FsbCBpbml0IHdpdGggcHJldmVudEZldGNoOnRydWUuXCJcbn1cblxuY29uc3QgRmxhZ3NtaXRoID0gY2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLmZldGNoKSB7XG4gICAgICAgICAgICBfZmV0Y2ggPSBwcm9wcy5mZXRjaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9mZXRjaCA9IGdsb2JhbC5mZXRjaDtcbiAgICAgICAgfVxuICAgICAgICBBc3luY1N0b3JhZ2UgPSBwcm9wcy5Bc3luY1N0b3JhZ2U7XG4gICAgfVxuXG4gICAgZ2V0SlNPTiA9ICh1cmw6c3RyaW5nLCBtZXRob2Q/OlwiR0VUXCJ8XCJQT1NUXCJ8XCJQVVRcIiwgYm9keT86Qm9keUluaXQpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbnZpcm9ubWVudElELCBoZWFkZXJzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICd4LWVudmlyb25tZW50LWtleSc6IGVudmlyb25tZW50SURcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG1ldGhvZCAmJiBtZXRob2QgIT09IFwiR0VUXCIpXG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXG5cbiAgICAgICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucy5oZWFkZXJzLCBoZWFkZXJzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZmV0Y2godXJsLCBvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5vayA/IGVyciA6IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICBnZXRGbGFncyA9IChyZXNvbHZlPzoodj86YW55KT0+YW55LCByZWplY3Q/Oih2PzphbnkpPT5hbnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbkNoYW5nZSwgb25FcnJvciwgaWRlbnRpdHksIGFwaSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gKHsgZmxhZ3M6IGZlYXR1cmVzLCB0cmFpdHMgfSwgc2VnbWVudHMpID0+IHtcbiAgICAgICAgICAgIHRoaXMud2l0aFRyYWl0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHNlcnZlciByZXNwb25zZVxuICAgICAgICAgICAgbGV0IGZsYWdzID0ge307XG4gICAgICAgICAgICBsZXQgdXNlclRyYWl0cyA9IHt9O1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBmZWF0dXJlcyB8fCBbXTtcbiAgICAgICAgICAgIHRyYWl0cyA9IHRyYWl0cyB8fCBbXTtcbiAgICAgICAgICAgIGZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgICAgICAgICAgICAgZmxhZ3NbZmVhdHVyZS5mZWF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZmVhdHVyZS5mZWF0dXJlLmlkLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmZWF0dXJlLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmZWF0dXJlLmZlYXR1cmVfc3RhdGVfdmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICAgICAgICAgICAgdXNlclRyYWl0c1t0cmFpdC50cmFpdF9rZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldID0gdHJhaXQudHJhaXRfdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbGRGbGFncyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmZsYWdzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVzZXJTZWdtZW50cyA9IHt9O1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VyU2VnbWVudHNbcy5uYW1lXSA9IHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IHVzZXJTZWdtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZsYWdzRXF1YWwgPSBkZWVwRXF1YWwodGhpcy5mbGFncywgZmxhZ3MpO1xuICAgICAgICAgICAgY29uc3QgdHJhaXRzRXF1YWwgPSBkZWVwRXF1YWwodGhpcy50cmFpdHMsIHVzZXJUcmFpdHMpO1xuICAgICAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICAgICAgdGhpcy50cmFpdHMgPSB1c2VyVHJhaXRzO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdG9yYWdlKCk7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh0aGlzLm9sZEZsYWdzLCB7XG4gICAgICAgICAgICAgICAgICAgIGlzRnJvbVNlcnZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3NDaGFuZ2VkOiAhZmxhZ3NFcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzQ2hhbmdlZDogIXRyYWl0c0VxdWFsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGlkZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMud2l0aFRyYWl0cz9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRKU09OKGFwaSArICdpZGVudGl0aWVzLycsIFwiUE9TVFwiLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkZW50aWZpZXJcIjogaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpdHM6IE9iamVjdC5rZXlzKHRoaXMud2l0aFRyYWl0cykubWFwKChrKT0+KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRyYWl0X2tleVwiOmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cmFpdF92YWx1ZVwiOiB0aGlzLndpdGhUcmFpdHNba11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9KSk6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRKU09OKGFwaSArICdpZGVudGl0aWVzLz9pZGVudGlmaWVyPScgKyBlbmNvZGVVUklDb21wb25lbnQoaWRlbnRpdHkpKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKHJlc1swXSwgcmVzWzFdKVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZSAmJiAhcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKCh7IG1lc3NhZ2UgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoeyBtZXNzYWdlIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SlNPTihhcGkgKyBcImZsYWdzL1wiKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVzcG9uc2UoeyBmbGFnczogcmVzWzBdIH0sIG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlICYmICFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0ICYmICFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmFseXRpY3NGbGFncyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBhcGkgfSA9IHRoaXM7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLmV2YWx1YXRpb25FdmVudCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRKU09OKGFwaSArICdhbmFseXRpY3MvZmxhZ3MvJywgJ1BPU1QnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmV2YWx1YXRpb25FdmVudCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25FdmVudDoge30sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUV2ZW50U3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFeGNlcHRpb24gZmV0Y2hpbmcgZXZhbHVhdGlvbkV2ZW50XCIsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5hbHl0aWNzSW50ZXJ2YWw9IG51bGxcbiAgICBhcGk9IG51bGxcbiAgICBjYWNoZUZsYWdzPSBudWxsXG4gICAgZW5hYmxlQW5hbHl0aWNzPSBudWxsXG4gICAgZW5hYmxlTG9ncz0gbnVsbFxuICAgIGVudmlyb25tZW50SUQ9IG51bGxcbiAgICBldmFsdWF0aW9uRXZlbnQ9IG51bGxcbiAgICBmbGFncz0gbnVsbFxuICAgIGdldEZsYWdJbnRlcnZhbD0gbnVsbFxuICAgIGhlYWRlcnM9IG51bGxcbiAgICBpbml0aWFsaXNlZD0gbnVsbFxuICAgIG9sZEZsYWdzPSBudWxsXG4gICAgb25DaGFuZ2U9IG51bGxcbiAgICBvbkVycm9yPSBudWxsXG4gICAgaWRlbnRpdHk9IG51bGxcbiAgICBzZWdtZW50cz0gbnVsbFxuICAgIHRpY2tzPSBudWxsXG4gICAgdGltZXI9IG51bGxcbiAgICB0cmFpdHM9IG51bGxcbiAgICB3aXRoVHJhaXRzPSBudWxsXG5cbiAgICBpbml0KHtcbiAgICAgICAgZW52aXJvbm1lbnRJRCxcbiAgICAgICAgYXBpID0gZGVmYXVsdEFQSSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgIGNhY2hlRmxhZ3MsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICAgIGRlZmF1bHRGbGFncyxcbiAgICAgICAgcHJldmVudEZldGNoLFxuICAgICAgICBlbmFibGVMb2dzLFxuICAgICAgICBlbmFibGVBbmFseXRpY3MsXG4gICAgICAgIEFzeW5jU3RvcmFnZTogX0FzeW5jU3RvcmFnZSxcbiAgICAgICAgc3RhdGVcbiAgICB9KSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnRJRCA9IGVudmlyb25tZW50SUQ7XG4gICAgICAgICAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgICAgICB0aGlzLmdldEZsYWdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuYWx5dGljc0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUxvZ3MgPSBlbmFibGVMb2dzO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVBbmFseXRpY3MgPSBlbmFibGVBbmFseXRpY3MgPyBlbmFibGVBbmFseXRpY3MgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RmxhZ3MpIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRpY2tzID0gMTAwMDA7XG5cblxuICAgICAgICAgICAgdGhpcy50aW1lciA9IHRoaXMuZW5hYmxlTG9ncyA/IG5ldyBEYXRlKCkudmFsdWVPZigpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChfQXN5bmNTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgQXN5bmNTdG9yYWdlID0gX0FzeW5jU3RvcmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FjaGVGbGFncyA9IHR5cGVvZiBBc3luY1N0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIGNhY2hlRmxhZ3M7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKVxuICAgICAgICAgICAgaWYgKCFlbnZpcm9ubWVudElEKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdQbGVhc2Ugc3BlY2lmeSBhIGVudmlyb25tZW50IGlkJylcbiAgICAgICAgICAgICAgICB0aHJvdyAoJ1BsZWFzZSBzcGVjaWZ5IGEgZW52aXJvbm1lbnQgaWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0oRkxBR1NNSVRIX0VWRU5UKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudCA9IEpTT04ucGFyc2UocmVzKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc0ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5hbmFseXRpY3NGbGFncywgdGhpcy50aWNrcyk7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5hbHl0aWNzSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmFuYWx5dGljc0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbShGTEFHU01JVEhfRVZFTlQsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJSZXRyaWV2ZWQgZXZlbnRzIGZyb20gY2FjaGVcIiwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25FdmVudDoganNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0lmIHRoZSB1c2VyIHNwZWNpZmllZCBkZWZhdWx0IGZsYWdzIGVtaXQgYSBjaGFuZ2VkIGV2ZW50IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY2FjaGVGbGFncykge1xuICAgICAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtKEZMQUdTTUlUSF9LRVksIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uICYmIGpzb24uYXBpID09PSB0aGlzLmFwaSAmJiBqc29uLmVudmlyb25tZW50SUQgPT09IHRoaXMuZW52aXJvbm1lbnRJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIlJldHJpZXZlZCBmbGFncyBmcm9tIGNhY2hlXCIsIGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZsYWdzKSB7IC8vIHJldHJpZXZlZCBmbGFncyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UobnVsbCwgeyBpc0Zyb21TZXJ2ZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2xkRmxhZ3MgPSB0aGlzLmZsYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRGZXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGbGFncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFeGNlcHRpb24gZmV0Y2hpbmcgY2FjaGVkIGxvZ3NcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRGZXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UobnVsbCwgeyBpc0Zyb21TZXJ2ZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0RmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShudWxsLCB7IGlzRnJvbVNlcnZlcjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBvbkVycm9yICYmIG9uRXJyb3IoZXJyb3IpKTtcbiAgICB9XG5cbiAgICBnZXRBbGxGbGFncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhZ3M7XG4gICAgfVxuXG4gICAgaWRlbnRpZnkodXNlcklkLCB0cmFpdHMpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eSA9IHVzZXJJZDtcbiAgICAgICAgaWYodHJhaXRzKSB7XG4gICAgICAgICAgICB0aGlzLndpdGhUcmFpdHMgPSB0cmFpdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGlzZWQgJiYgIXRoaXMuZ2V0RmxhZ0ludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICAgICAgICBlbnZpcm9ubWVudElEOiB0aGlzLmVudmlyb25tZW50SUQsXG4gICAgICAgICAgICBmbGFnczogdGhpcy5mbGFncyxcbiAgICAgICAgICAgIGlkZW50aXR5OiB0aGlzLmlkZW50aXR5LFxuICAgICAgICAgICAgc2VnbWVudHM6IHRoaXMuc2VnbWVudHMsXG4gICAgICAgICAgICB0cmFpdHM6IHRoaXMudHJhaXRzLFxuICAgICAgICAgICAgZXZhbHVhdGlvbkV2ZW50OiB0aGlzLmV2YWx1YXRpb25FdmVudCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFwaSA9IHN0YXRlLmFwaSB8fCB0aGlzLmFwaSB8fCBkZWZhdWx0QVBJO1xuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudElEID0gc3RhdGUuZW52aXJvbm1lbnRJRCB8fCB0aGlzLmVudmlyb25tZW50SUQ7XG4gICAgICAgICAgICB0aGlzLmZsYWdzID0gc3RhdGUuZmxhZ3MgfHwgdGhpcy5mbGFncztcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkgPSBzdGF0ZS5pZGVudGl0eSB8fCB0aGlzLmlkZW50aXR5O1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IHN0YXRlLnNlZ21lbnRzIHx8IHRoaXMuc2VnbWVudHM7XG4gICAgICAgICAgICB0aGlzLnRyYWl0cyA9IHN0YXRlLnRyYWl0cyB8fCB0aGlzLnRyYWl0cztcbiAgICAgICAgICAgIHRoaXMuZXZhbHVhdGlvbkV2ZW50ID0gc3RhdGUuZXZhbHVhdGlvbkV2ZW50IHx8IHRoaXMuZXZhbHVhdGlvbkV2ZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9nKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkodGhpcywgW1wiRkxBR1NNSVRIOlwiLCBuZXcgRGF0ZSgpLnZhbHVlT2YoKSAtIHRoaXMudGltZXIsIFwibXNcIiwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlU3RvcmFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVGbGFncykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIHN0b3JhZ2VcIiwgc3RhdGUpO1xuICAgICAgICAgICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0oRkxBR1NNSVRIX0tFWSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRXZlbnRTdG9yYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVBbmFseXRpY3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0U3RhdGUoKS5ldmFsdWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIGV2ZW50IHN0b3JhZ2VcIiwgZXZlbnRzKTtcbiAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5zZXRJdGVtKEZMQUdTTUlUSF9FVkVOVCwgZXZlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvZ291dCgpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYWl0cyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkICYmICF0aGlzLmdldEZsYWdJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc3RhcnRMaXN0ZW5pbmcodGlja3MgPSAxMDAwKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEZsYWdJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdldEZsYWdJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRGbGFnSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLmdldEZsYWdzLCB0aWNrcyk7XG4gICAgfVxuXG4gICAgc3RvcExpc3RlbmluZygpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdldEZsYWdJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuZ2V0RmxhZ0ludGVydmFsID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRTZWdtZW50cygpIHtcbiAgICAgICAgLy8gbm9vcCBmb3Igbm93XG4gICAgICAgIC8vIHJldHVybiB0aGlzLnNlZ21lbnRzO1xuICAgIH1cblxuICAgIGV2YWx1YXRlRmxhZyA9IChrZXkpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZhbHVhdGlvbkV2ZW50KSByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5ldmFsdWF0aW9uRXZlbnRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnRba2V5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudFtrZXldICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFdmVudFN0b3JhZ2UoKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZmxhZyA9IHRoaXMuZmxhZ3MgJiYgdGhpcy5mbGFnc1trZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldO1xuICAgICAgICBsZXQgcmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgIHJlcyA9IGZsYWcudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmFsdWF0ZUZsYWcoa2V5KTtcblxuICAgICAgICAvL3RvZG8gcmVjb3JkIGNoZWNrIGZvciB2YWx1ZVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZ2V0VHJhaXQgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYWl0ID0gdGhpcy50cmFpdHMgJiYgdGhpcy50cmFpdHNba2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpXTtcbiAgICAgICAgcmV0dXJuIHRyYWl0O1xuICAgIH1cblxuICAgIHNldFRyYWl0ID0gKGtleSwgdHJhaXRfdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRKU09OLCBpZGVudGl0eSwgYXBpIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghYXBpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGluaXRFcnJvcihcInNldFRyYWl0XCIpKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgICAgICAgXCJpZGVudGlmaWVyXCI6IGlkZW50aXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0cmFpdF9rZXlcIjoga2V5LFxuICAgICAgICAgICAgXCJ0cmFpdF92YWx1ZVwiOiB0cmFpdF92YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldEpTT04oYCR7YXBpfXRyYWl0cy9gLCAnUE9TVCcsIEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIHNldFRyYWl0cyA9ICh0cmFpdHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRKU09OLCBpZGVudGl0eSwgYXBpIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghYXBpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGluaXRFcnJvcihcInNldFRyYWl0c1wiKSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0cmFpdHMgfHwgdHlwZW9mIHRyYWl0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFeHBlY3RlZCBvYmplY3QgZm9yIGZsYWdzbWl0aC5zZXRUcmFpdHNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmtleXModHJhaXRzKS5tYXAoKGtleSkgPT4gKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImlkZW50aWZpZXJcIjogaWRlbnRpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwidHJhaXRfa2V5XCI6IGtleSxcbiAgICAgICAgICAgICAgICBcInRyYWl0X3ZhbHVlXCI6IHRyYWl0c1trZXldXG4gICAgICAgICAgICB9XG4gICAgICAgICkpXG5cbiAgICAgICAgcmV0dXJuIGdldEpTT04oYCR7YXBpfXRyYWl0cy9idWxrL2AsICdQVVQnLCBKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICBpbmNyZW1lbnRUcmFpdCA9ICh0cmFpdF9rZXksIGluY3JlbWVudF9ieSkgPT4ge1xuICAgICAgICBjb25zdCB7IGdldEpTT04sIGlkZW50aXR5LCBhcGkgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBnZXRKU09OKGAke2FwaX10cmFpdHMvaW5jcmVtZW50LXZhbHVlL2AsICdQT1NUJywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHJhaXRfa2V5LFxuICAgICAgICAgICAgaW5jcmVtZW50X2J5LFxuICAgICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpdHlcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAudGhlbih0aGlzLmdldEZsYWdzKVxuICAgIH07XG5cbiAgICBoYXNGZWF0dXJlID0gKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBmbGFnID0gdGhpcy5mbGFncyAmJiB0aGlzLmZsYWdzW2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJ18nKV07XG4gICAgICAgIGxldCByZXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGZsYWcgJiYgZmxhZy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZhbHVhdGVGbGFnKGtleSk7XG5cbiAgICAgICAgLy90b2RvIHJlY29yZCBjaGVjayBmb3IgZmVhdHVyZVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG59O1xuXG50eXBlIENvbmZpZz0ge2ZldGNoPzphbnksIEFzeW5jU3RvcmFnZT86YW55fTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeyBmZXRjaCwgQXN5bmNTdG9yYWdlIH06Q29uZmlnKTpJRmxhZ3NtaXRoIHtcbiAgICByZXR1cm4gbmV3IEZsYWdzbWl0aCh7IGZldGNoLCBBc3luY1N0b3JhZ2UgfSkgYXMgSUZsYWdzbWl0aDtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihlLG4pe3JldHVybiBuPW58fHt9LG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0LG89W10sdT1bXSxpPXt9LGE9ZnVuY3Rpb24oKXtyZXR1cm57b2s6Mj09KHMuc3RhdHVzLzEwMHwwKSxzdGF0dXNUZXh0OnMuc3RhdHVzVGV4dCxzdGF0dXM6cy5zdGF0dXMsdXJsOnMucmVzcG9uc2VVUkwsdGV4dDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUocy5yZXNwb25zZVRleHQpfSxqc29uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShzLnJlc3BvbnNlVGV4dCkudGhlbihKU09OLnBhcnNlKX0sYmxvYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3MucmVzcG9uc2VdKSl9LGNsb25lOmEsaGVhZGVyczp7a2V5czpmdW5jdGlvbigpe3JldHVybiBvfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gaVtlLnRvTG93ZXJDYXNlKCldfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIGl9fX19O2Zvcih2YXIgbCBpbiBzLm9wZW4obi5tZXRob2R8fFwiZ2V0XCIsZSwhMCkscy5vbmxvYWQ9ZnVuY3Rpb24oKXtzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnJlcGxhY2UoL14oLio/KTpbXlxcU1xcbl0qKFtcXHNcXFNdKj8pJC9nbSxmdW5jdGlvbihlLG4sdCl7by5wdXNoKG49bi50b0xvd2VyQ2FzZSgpKSx1LnB1c2goW24sdF0pLGlbbl09aVtuXT9pW25dK1wiLFwiK3Q6dH0pLHQoYSgpKX0scy5vbmVycm9yPXIscy53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PW4uY3JlZGVudGlhbHMsbi5oZWFkZXJzKXMuc2V0UmVxdWVzdEhlYWRlcihsLG4uaGVhZGVyc1tsXSk7cy5zZW5kKG4uYm9keXx8bnVsbCl9KX1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZmV0Y2gubW9kdWxlLmpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJsZXQgZmV0Y2ggPSByZXF1aXJlKFwidW5mZXRjaFwiKS5kZWZhdWx0O1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tIFwiQGNhbGxzdGFjay9hc3luYy1zdG9yYWdlXCI7XG5jb25zdCBjb3JlID0gcmVxdWlyZSgnLi9mbGFnc21pdGgtY29yZScpO1xuY29uc3QgZmxhZ3NtaXRoID0gY29yZSh7QXN5bmNTdG9yYWdlLCBmZXRjaH0pO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgd2luZG93LmZsYWdzbWl0aCA9IGZsYWdzbWl0aDtcbn1cbmV4cG9ydCBkZWZhdWx0IGZsYWdzbWl0aDtcbmV4cG9ydCBjb25zdCBjcmVhdGVGbGFnc21pdGhJbnN0YW5jZSA9ICgpPT57XG4gICAgcmV0dXJuIGNvcmUoe0FzeW5jU3RvcmFnZSwgZmV0Y2h9KVxufVxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJvYmoiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwiX2kiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJsZW5ndGgiLCJlcnIiLCJzbGljZUl0ZXJhdG9yIiwiVHlwZUVycm9yIiwiX2xvZGFzaDIiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFQSSIsImdldEl0ZW0iLCJrZXkiLCJjYiIsIm11bHRpR2V0IiwidGhlbiIsInZhbHVlcyIsImRhdGEiLCJjYXRjaCIsInNldEl0ZW0iLCJtdWx0aVNldCIsImdldEFsbEtleXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImtleXMiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwibXVsdGlSZW1vdmUiLCJjbGVhciIsIndpbmRvdyIsIm1lcmdlSXRlbSIsIm11bHRpTWVyZ2UiLCJyZWR1Y2UiLCJhY2MiLCJjb25jYXQiLCJrdlBhaXJzIiwicmVqZWN0IiwiZXJyb3JzIiwiZm9yRWFjaCIsIl9yZWYiLCJfcmVmMiIsImVycm9yIiwiX3JlZjMiLCJfcmVmNCIsInJhd1ZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiZmx1c2hHZXRSZXF1ZXN0cyIsImNvbnNvbGUiLCJ3YXJuIiwiZXF1YWwiLCJiIiwiY29uc3RydWN0b3IiLCJSZWdFeHAiLCJzb3VyY2UiLCJmbGFncyIsInZhbHVlT2YiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkhBU0hfVU5ERUZJTkVEIiwiTUFYX1NBRkVfSU5URUdFUiIsImFyZ3NUYWciLCJmdW5jVGFnIiwib2JqZWN0VGFnIiwicmVJc0hvc3RDdG9yIiwicmVJc1VpbnQiLCJ0eXBlZEFycmF5VGFncyIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwicmVxdWlyZSIsInR5cGVzIiwiYmluZGluZyIsImUiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwiYXBwbHkiLCJmdW5jIiwidGhpc0FyZyIsImFyZ3MiLCJ1aWQiLCJ0cmFuc2Zvcm0iLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwibWFza1NyY0tleSIsImV4ZWMiLCJJRV9QUk9UTyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsInJlSXNOYXRpdmUiLCJyZXBsYWNlIiwiQnVmZmVyIiwiVWludDhBcnJheSIsImdldFByb3RvdHlwZSIsImFsbG9jVW5zYWZlIiwiZ2V0UHJvdG90eXBlT2YiLCJhcmciLCJvYmplY3RDcmVhdGUiLCJjcmVhdGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNwbGljZSIsInN5bVRvU3RyaW5nVGFnIiwidG9TdHJpbmdUYWciLCJnZXROYXRpdmUiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlTWF4IiwiTWF0aCIsIm1heCIsIm5hdGl2ZU5vdyIsIkRhdGUiLCJub3ciLCJNYXAiLCJuYXRpdmVDcmVhdGUiLCJiYXNlQ3JlYXRlIiwib2JqZWN0IiwicHJvdG8iLCJpc09iamVjdCIsInJlc3VsdCIsIkhhc2giLCJlbnRyaWVzIiwiaW5kZXgiLCJlbnRyeSIsInNldCIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU3RhY2siLCJfX2RhdGFfXyIsInNpemUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYXJyYXkiLCJoYXMiLCJnZXQiLCJwb3AiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiYmFzZUdldFRhZyIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VJc0FyZ3VtZW50cyIsImlzT2JqZWN0TGlrZSIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwiY3VzdG9taXplciIsInN0YWNrIiwiaXRlcmF0ZWUiLCJrZXlzRnVuYyIsIml0ZXJhYmxlIiwicHJvcHMiLCJiYXNlRm9yIiwic3JjVmFsdWUiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0Iiwic3RhY2tlZCIsInR5cGVkQXJyYXkiLCJidWZmZXIiLCJhcnJheUJ1ZmZlciIsIm5ld1ZhbHVlIiwiaXNDb21tb24iLCJpc0FyciIsImlzQnVmZiIsImlzVHlwZWQiLCJpc0FycmF5TGlrZSIsImNvcHlBcnJheSIsImlzRGVlcCIsInNsaWNlIiwiY2xvbmVCdWZmZXIiLCJieXRlTGVuZ3RoIiwiYnl0ZU9mZnNldCIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiaXNBcmd1bWVudHMiLCJpc05ldyIsImNvcHlPYmplY3QiLCJrZXlzSW4iLCJ0b1BsYWluT2JqZWN0IiwiaXNGdW5jdGlvbiIsImlzUHJvdG90eXBlIiwiaW5pdENsb25lT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VTZXRUb1N0cmluZyIsInN0cmluZyIsImlkZW50aXR5IiwibWFwIiwidHlwZSIsImdldFZhbHVlIiwiaXNNYXNrZWQiLCJ0ZXN0IiwidG9Tb3VyY2UiLCJiYXNlSXNOYXRpdmUiLCJpc0luZGV4Iiwic2V0VG9TdHJpbmciLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsImFyZ3VtZW50cyIsInNob3J0T3V0Iiwib3RoZXIiLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsImluaGVyaXRlZCIsImlzQXJnIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJuIiwiYmFzZVRpbWVzIiwiU3RyaW5nIiwiYXJyYXlMaWtlS2V5cyIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlS2V5c0luIiwiYXNzaWduZXIiLCJtZXJnZSIsInN0YXJ0Iiwib3RoZXJBcmdzIiwib3ZlclJlc3QiLCJiYXNlUmVzdCIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiX2ZldGNoIiwiQXN5bmNTdG9yYWdlIiwiRkxBR1NNSVRIX0tFWSIsIkZMQUdTTUlUSF9FVkVOVCIsImRlZmF1bHRBUEkiLCJkZWVwRXF1YWwiLCJpbml0RXJyb3IiLCJjYWxsZXIiLCJGbGFnc21pdGgiLCJnZXRKU09OIiwidXJsIiwibWV0aG9kIiwiYm9keSIsImVudmlyb25tZW50SUQiLCJoZWFkZXJzIiwib3B0aW9ucyIsImFzc2lnbiIsInJlcyIsInRleHQiLCJvayIsImdldEZsYWdzIiwib25DaGFuZ2UiLCJvbkVycm9yIiwiYXBpIiwicmVzb2x2ZWQiLCJoYW5kbGVSZXNwb25zZSIsInNlZ21lbnRzIiwiZmVhdHVyZXMiLCJ0cmFpdHMiLCJ3aXRoVHJhaXRzIiwidXNlclRyYWl0cyIsImZlYXR1cmUiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpZCIsImVuYWJsZWQiLCJmZWF0dXJlX3N0YXRlX3ZhbHVlIiwidHJhaXQiLCJ0cmFpdF9rZXkiLCJ0cmFpdF92YWx1ZSIsIm9sZEZsYWdzIiwicyIsImZsYWdzRXF1YWwiLCJ0cmFpdHNFcXVhbCIsInVwZGF0ZVN0b3JhZ2UiLCJpc0Zyb21TZXJ2ZXIiLCJmbGFnc0NoYW5nZWQiLCJ0cmFpdHNDaGFuZ2VkIiwiYWxsIiwiayIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1lc3NhZ2UiLCJhbmFseXRpY3NGbGFncyIsImdldE93blByb3BlcnR5TmFtZXMiLCJldmFsdWF0aW9uRXZlbnQiLCJzdGF0ZSIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJ1cGRhdGVFdmVudFN0b3JhZ2UiLCJsb2ciLCJhbmFseXRpY3NJbnRlcnZhbCIsImNhY2hlRmxhZ3MiLCJlbmFibGVBbmFseXRpY3MiLCJlbmFibGVMb2dzIiwiZ2V0RmxhZ0ludGVydmFsIiwiaW5pdGlhbGlzZWQiLCJ0aWNrcyIsInRpbWVyIiwiZXZhbHVhdGVGbGFnIiwiZmxhZyIsImdldFRyYWl0Iiwic2V0VHJhaXQiLCJzZXRUcmFpdHMiLCJpbmNyZW1lbnRUcmFpdCIsImluY3JlbWVudF9ieSIsImlkZW50aWZpZXIiLCJoYXNGZWF0dXJlIiwiZmV0Y2giLCJpbml0IiwiZGVmYXVsdEZsYWdzIiwicHJldmVudEZldGNoIiwiX0FzeW5jU3RvcmFnZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImpzb24iLCJnZXRBbGxGbGFncyIsImlkZW50aWZ5IiwidXNlcklkIiwiZXZlbnRzIiwibG9nb3V0Iiwic3RhcnRMaXN0ZW5pbmciLCJzdG9wTGlzdGVuaW5nIiwiZ2V0U2VnbWVudHMiLCJ0IiwiciIsIlhNTEh0dHBSZXF1ZXN0IiwibyIsInUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZVRleHQiLCJibG9iIiwiQmxvYiIsInJlc3BvbnNlIiwiY2xvbmUiLCJsIiwib3BlbiIsIm9ubG9hZCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm9uZXJyb3IiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjcmVkZW50aWFscyIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibG9hZGVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsInByb3AiLCJubWQiLCJwYXRocyIsImNoaWxkcmVuIiwiY29yZSIsImZsYWdzbWl0aCIsImNyZWF0ZUZsYWdzbWl0aEluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==