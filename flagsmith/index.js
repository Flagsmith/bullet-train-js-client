!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(function(){return(()=>{var t={322:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=(r=n(378))&&r.__esModule?r:{default:r},a={getItem:function(t,e){return a.multiGet([t]).then((function(t){return t[0][1]})).then((function(t){return e&&e(null,t),t})).catch((function(t){return e&&e(t,null),t}))},setItem:function(t,e,n){return a.multiSet([[t,e]]).then((function(t){return n&&n(null,t),t})).catch((function(t){return n&&n(t,null),t}))},getAllKeys:function(t){return Promise.resolve(Object.keys(localStorage)).then((function(e){return t&&t(null,e),e})).catch((function(e){return t&&t(e,null),e}))},removeItem:function(t,e){return a.multiRemove([t]).then((function(){e&&e(null)})).catch((function(t){e&&e(t,null)}))},clear:function(){return new Promise((function(t){window.localStorage.clear(),t()}))},mergeItem:function(t,e){return a.multiMerge([[t,e]])},multiGet:function(t){return new Promise((function(e){e(t.reduce((function(t,e){return t.concat([[e,localStorage.getItem(e)]])}),[]))}))},multiSet:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],o=e[1];try{localStorage.setItem(n,o)}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiMerge:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],a=e[1],s=localStorage.getItem(n);if(s)try{localStorage.setItem(n,JSON.stringify((0,o.default)(JSON.parse(s),JSON.parse(a))))}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiRemove:function(t){return new Promise((function(e){t.forEach((function(t){return window.localStorage.removeItem(t)})),e()}))},flushGetRequests:function(){console.warn("AsyncStorage.flushGetRequests: Not supported on `web`")}};e.default=a},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},378:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[o]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[a]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var f="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,g=f||h||Function("return this")(),v=e&&!e.nodeType&&e,p=v&&t&&!t.nodeType&&t,y=p&&p.exports===v,d=y&&f.process,_=function(){try{return p&&p.require&&p.require("util").types||d&&d.binding&&d.binding("util")}catch(t){}}(),b=_&&_.isTypedArray;function m(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S,j,O,w=Array.prototype,I=Function.prototype,F=Object.prototype,A=g["__core-js_shared__"],E=I.toString,P=F.hasOwnProperty,T=(S=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",N=F.toString,x=E.call(Object),C=RegExp("^"+E.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=y?g.Buffer:void 0,J=g.Symbol,k=g.Uint8Array,z=(L&&L.allocUnsafe,j=Object.getPrototypeOf,O=Object,function(t){return j(O(t))}),D=Object.create,R=F.propertyIsEnumerable,M=w.splice,U=J?J.toStringTag:void 0,B=function(){try{var t=ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=L?L.isBuffer:void 0,$=Math.max,q=Date.now,H=ut(g,"Map"),V=ut(Object,"create"),Z=function(){function t(){}return function(e){if(!mt(e))return{};if(D)return D(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=this.__data__=new W(t);this.size=e.size}function Y(t,e,n){(void 0!==n&&!gt(t[e],n)||void 0===n&&!(e in t))&&nt(t,e,n)}function tt(t,e,n){var r=t[e];P.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||nt(t,e,n)}function et(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function nt(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}K.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},K.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},K.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},K.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:P.call(e,t)},K.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V&&void 0===e?r:e,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(t){var e=this.__data__,n=et(e,t);return!(n<0||(n==e.length-1?e.pop():M.call(e,n,1),--this.size,0))},W.prototype.get=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]},W.prototype.has=function(t){return et(this.__data__,t)>-1},W.prototype.set=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(H||W),string:new K}},X.prototype.delete=function(t){var e=st(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return st(this,t).get(t)},X.prototype.has=function(t){return st(this,t).has(t)},X.prototype.set=function(t,e){var n=st(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new W,this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Q.prototype.get=function(t){return this.__data__.get(t)},Q.prototype.has=function(t){return this.__data__.has(t)},Q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!H||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(t,e),this.size=n.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":U&&U in Object(t)?function(t){var e=P.call(t,U),n=t[U];try{t[U]=void 0;var r=!0}catch(t){}var i=N.call(t);return r&&(e?t[U]=n:delete t[U]),i}(t):function(t){return N.call(t)}(t)}function it(t){return St(t)&&rt(t)==o}function ot(t,e,n,r,i){t!==e&&function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}}(e,(function(o,a){if(i||(i=new Q),mt(o))!function(t,e,n,r,i,o,a){var u=ft(t,n),l=ft(e,n),c=a.get(l);if(c)Y(t,n,c);else{var f,h,g,v,p,y=o?o(u,l,n+"",t,e,a):void 0,d=void 0===y;if(d){var _=pt(l),b=!_&&dt(l),m=!_&&!b&&jt(l);y=l,_||b||m?pt(u)?y=u:St(p=u)&&yt(p)?y=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):b?(d=!1,y=function(t,e){return t.slice()}(l)):m?(d=!1,v=new(g=(f=l).buffer).constructor(g.byteLength),new k(v).set(new k(g)),h=v,y=new f.constructor(h,f.byteOffset,f.length)):y=[]:function(t){if(!St(t)||rt(t)!=s)return!1;var e=z(t);if(null===e)return!0;var n=P.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==x}(l)||vt(l)?(y=u,vt(u)?y=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=void 0;void 0===u&&(u=t[s]),i?nt(n,s,u):tt(n,s,u)}return n}(t,Ot(t))}(u):mt(u)&&!_t(u)||(y=function(t){return"function"!=typeof t.constructor||ct(t)?{}:Z(z(t))}(l))):d=!1}d&&(a.set(l,y),i(y,l,r,o,a),a.delete(l)),Y(t,n,y)}}(t,e,a,n,ot,r,i);else{var u=r?r(ft(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),Y(t,a,u)}}),Ot)}var at=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ft;function st(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!mt(t)||function(t){return!!T&&T in t}(t))&&(_t(t)?C:u).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function lt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&l.test(t))&&t>-1&&t%1==0&&t<e}function ct(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||F)}function ft(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ht=function(t){var e=0,n=0;return function(){var r=q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(at);function gt(t,e){return t===e||t!=t&&e!=e}var vt=it(function(){return arguments}())?it:function(t){return St(t)&&P.call(t,"callee")&&!R.call(t,"callee")},pt=Array.isArray;function yt(t){return null!=t&&bt(t.length)&&!_t(t)}var dt=G||function(){return!1};function _t(t){if(!mt(t))return!1;var e=rt(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function bt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function St(t){return null!=t&&"object"==typeof t}var jt=b?function(t){return function(e){return t(e)}}(b):function(t){return St(t)&&bt(t.length)&&!!c[rt(t)]};function Ot(t){return yt(t)?function(t,e){var n=pt(t),r=!n&&vt(t),i=!n&&!r&&dt(t),o=!n&&!r&&!i&&jt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!P.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||lt(l,u))||s.push(l);return s}(t,!0):function(t){if(!mt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ct(t),n=[];for(var r in t)("constructor"!=r||!e&&P.call(t,r))&&n.push(r);return n}(t)}var wt,It=(wt=function(t,e,n){ot(t,e,n)},function(t,e){return ht(function(t,e,n){return e=$(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=$(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),m(t,this,s)}}(t,e,Ft),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=wt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!mt(n))return!1;var r=typeof e;return!!("number"==r?yt(n)&&lt(e,n.length):"string"==r&&e in n)&&gt(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&wt(t,a,n)}return t})));function Ft(t){return t}t.exports=It},142:function(t,e,n){"use strict";var r,i,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var s="BULLET_TRAIN_DB",u="BULLET_TRAIN_EVENT",l="https://api.flagsmith.com/api/v1/",c=n(63),f=function(t){return"Attempted to "+t+" a user before calling flagsmith.init. Call flagsmith.init first, if you wish to prevent it sending a request for flags, call init with preventFetch:true."},h=function(){function t(t){var e=this;this.getJSON=function(t,n,i){var o=e,a=o.environmentID,s=o.headers,u={method:n||"GET",body:i,headers:{"x-environment-key":a}};return n&&"GET"!==n&&(u.headers["Content-Type"]="application/json; charset=utf-8"),s&&Object.assign(u.headers,s),r(t,u).then((function(t){return t.text().then((function(e){var n=e;try{n=JSON.parse(e)}catch(t){}return t.ok?n:Promise.reject(n)}))}))},this.getFlags=function(t,n){var r=e,i=r.onChange,a=r.onError,s=r.identity,u=r.api,l=!1,f=function(t,n){var r=t.flags,a=t.traits;e.withTraits=!1;var s={},u={};if(a=a||[],(r=r||[]).forEach((function(t){s[t.feature.name.toLowerCase().replace(/ /g,"_")]={id:t.feature.id,enabled:t.enabled,value:t.feature_state_value}})),a.forEach((function(t){u[t.trait_key.toLowerCase().replace(/ /g,"_")]=t.trait_value})),e.oldFlags=o({},e.flags),n){var l={};n.map((function(t){l[t.name]=t})),e.segments=l}var f=c(e.flags,s),h=c(e.traits,u);e.flags=s,e.traits=u,e.updateStorage(),i&&i(e.oldFlags,{isFromServer:!0,flagsChanged:!f,traitsChanged:!h})};return s?Promise.all([e.withTraits?e.getJSON(u+"identities/","POST",JSON.stringify({identifier:s,traits:Object.keys(e.withTraits).map((function(t){return{trait_key:t,trait_value:e.withTraits[t]}}))})):e.getJSON(u+"identities/?identifier="+encodeURIComponent(s))]).then((function(e){f(e[0],e[1]),t&&!l&&(l=!0,t())})).catch((function(t){var e=t.message;a&&a({message:e})})):Promise.all([e.getJSON(u+"flags/")]).then((function(e){f({flags:e[0]},null),t&&!l&&(l=!0,t())})).catch((function(t){n&&!l&&(l=!0,n(t)),a&&a(t)}))},this.analyticsFlags=function(){var t=e.api;if(0!==Object.getOwnPropertyNames(e.evaluationEvent).length)return e.getJSON(t+"analytics/flags/","POST",JSON.stringify(e.evaluationEvent)).then((function(t){var n=e.getState();e.setState(o(o({},n),{evaluationEvent:{}})),e.updateEventStorage()})).catch((function(t){e.log("Exception fetching evaluationEvent",t)}))},this.analyticsInterval=null,this.api=null,this.cacheFlags=null,this.enableAnalytics=null,this.enableLogs=null,this.environmentID=null,this.evaluationEvent=null,this.flags=null,this.getFlagInterval=null,this.headers=null,this.initialised=null,this.oldFlags=null,this.onChange=null,this.onError=null,this.identity=null,this.segments=null,this.ticks=null,this.timer=null,this.traits=null,this.withTraits=null,this.evaluateFlag=function(t){if(e.enableAnalytics){if(!e.evaluationEvent)return;void 0===e.evaluationEvent[t]&&(e.evaluationEvent[t]=0),e.evaluationEvent[t]+=1}e.updateEventStorage()},this.getValue=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=null;return n&&(r=n.value),e.evaluateFlag(t),r},this.getTrait=function(t){return e.traits&&e.traits[t.toLowerCase().replace(/ /g,"_")]},this.setTrait=function(t,n){var r=e,i=r.getJSON,o=r.identity,a=r.api;if(a){var s={identity:{identifier:o},trait_key:t,trait_value:n};return i("".concat(a,"traits/"),"POST",JSON.stringify(s)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTrait"))},this.setTraits=function(t){var n=e,r=n.getJSON,i=n.identity,o=n.api;if(o){t&&"object"==typeof t||console.error("Expected object for flagsmith.setTraits");var a=Object.keys(t).map((function(e){return{identity:{identifier:i},trait_key:e,trait_value:t[e]}}));return r("".concat(o,"traits/bulk/"),"PUT",JSON.stringify(a)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTraits"))},this.incrementTrait=function(t,n){var r=e,i=r.getJSON,o=r.identity,a=r.api;return i("".concat(a,"traits/increment-value/"),"POST",JSON.stringify({trait_key:t,increment_by:n,identifier:o})).then(e.getFlags)},this.hasFeature=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=!1;return n&&n.enabled&&(r=!0),e.evaluateFlag(t),r},r=t.fetch?t.fetch:global.fetch,i=t.AsyncStorage}return t.prototype.init=function(t){var e=this,n=t.environmentID,r=t.api,a=void 0===r?l:r,c=t.headers,f=t.onChange,h=t.cacheFlags,g=t.onError,v=t.defaultFlags,p=t.preventFetch,y=t.enableLogs,d=t.enableAnalytics,_=t.AsyncStorage,b=t.state;return new Promise((function(t,r){if(e.environmentID=n,e.api=a,e.headers=c,e.getFlagInterval=null,e.analyticsInterval=null,e.onChange=f,e.onError=g,e.enableLogs=y,e.enableAnalytics=d||!1,e.flags=Object.assign({},v)||{},e.initialised=!0,e.ticks=1e4,e.timer=e.enableLogs?(new Date).valueOf():null,_&&(i=_),e.cacheFlags=void 0!==i&&h,e.setState(b),!n)throw r("Please specify a environment id"),"Please specify a environment id";i.getItem(u).then((function(t){if(t)try{e.evaluationEvent=JSON.parse(t)}catch(t){e.evaluationEvent={}}else e.evaluationEvent={};e.analyticsInterval=setInterval(e.analyticsFlags,e.ticks)})),e.enableAnalytics&&(e.analyticsInterval&&clearInterval(e.analyticsInterval),i.getItem(u,(function(t,n){if(n){var r=JSON.parse(n);r&&(b=e.getState(),e.log("Retrieved events from cache",n),e.setState(o(o({},b),{evaluationEvent:r})))}}))),h?i.getItem(s,(function(n,i){if(i)try{var o=JSON.parse(i);o&&o.api===e.api&&o.environmentID===e.environmentID&&(e.setState(o),e.log("Retrieved flags from cache",o)),e.flags?(e.onChange&&e.onChange(null,{isFromServer:!1}),e.oldFlags=e.flags,t(!0),p||e.getFlags()):p?t(!0):e.getFlags(t,r)}catch(t){e.log("Exception fetching cached logs",t)}else p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})):p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})).catch((function(t){return g&&g(t)}))},t.prototype.getAllFlags=function(){return this.flags},t.prototype.identify=function(t,e){return this.identity=t,e&&(this.withTraits=e),this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.getState=function(){return{api:this.api,environmentID:this.environmentID,flags:this.flags,identity:this.identity,segments:this.segments,traits:this.traits,evaluationEvent:this.evaluationEvent}},t.prototype.setState=function(t){t&&(this.initialised=!0,this.api=t.api||this.api||l,this.environmentID=t.environmentID||this.environmentID,this.flags=t.flags||this.flags,this.identity=t.identity||this.identity,this.segments=t.segments||this.segments,this.traits=t.traits||this.traits,this.evaluationEvent=t.evaluationEvent||this.evaluationEvent)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enableLogs&&console.log.apply(this,a(["FLAGSMITH:",(new Date).valueOf()-this.timer,"ms"],t,!0))},t.prototype.updateStorage=function(){if(this.cacheFlags){var t=JSON.stringify(this.getState());this.log("Setting storage",t),i.setItem(s,t)}},t.prototype.updateEventStorage=function(){if(this.enableAnalytics){var t=JSON.stringify(this.getState().evaluationEvent);this.log("Setting event storage",t),i.setItem(u,t)}},t.prototype.logout=function(){return this.identity=null,this.segments=null,this.traits=null,this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.startListening=function(t){void 0===t&&(t=1e3),this.getFlagInterval&&clearInterval(this.getFlagInterval),this.getFlagInterval=setInterval(this.getFlags,t)},t.prototype.stopListening=function(){clearInterval(this.getFlagInterval),this.getFlagInterval=null},t.prototype.getSegments=function(){},t}();e.default=function(t){var e=t.fetch,n=t.AsyncStorage;return new h({fetch:e,AsyncStorage:n})}},869:(t,e,n)=>{"use strict";function r(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),a.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)}))}n.d(e,{Z:()=>r})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.createFlagsmithInstance=void 0;var e=n(869).Z,i=n(322),o=n(142),a=(0,o.default)({AsyncStorage:i.default,fetch:e});"undefined"!=typeof window&&(window.flagsmith=a),t.default=a,t.createFlagsmithInstance=function(){return(0,o.default)({AsyncStorage:i.default,fetch:e})}})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUFDLHdCQUEwQixXQUNuQyxPQUFPLGFBQUssQ0FBQ2hJLGFBQVksVUFBRTRFLE1BQUssTSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vbm9kZV9tb2R1bGVzL0BjYWxsc3RhY2svYXN5bmMtc3RvcmFnZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9ub2RlX21vZHVsZXMvbG9kYXNoLm1lcmdlL2luZGV4LmpzIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL2ZsYWdzbWl0aC1jb3JlLnRzIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL25vZGVfbW9kdWxlcy91bmZldGNoL2Rpc3QvdW5mZXRjaC5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpOyAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaW5kZXguanNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogcmVhY3QtbmF0aXZlLWNyb3NzLXBsYXRmb3JtLXN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ3JlYXRlZCBieSBNaWtlIEdyYWJvd3NraSBvbiAxMi8xMi8xNi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IMKpIDIwMTYgQ2FsbHN0YWNrLmlvLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoLm1lcmdlJyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBBUEkgPSB7XG4gIGdldEl0ZW06IGZ1bmN0aW9uIGdldEl0ZW0oa2V5LCBjYikge1xuICAgIHJldHVybiBBUEkubXVsdGlHZXQoW2tleV0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgcmV0dXJuIHZhbHVlc1swXVsxXTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBjYiAmJiBjYihudWxsLCBkYXRhKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNiICYmIGNiKGVyciwgbnVsbCk7XG4gICAgICByZXR1cm4gZXJyO1xuICAgIH0pO1xuICB9LFxuICBzZXRJdGVtOiBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNiKSB7XG4gICAgcmV0dXJuIEFQSS5tdWx0aVNldChbW2tleSwgdmFsdWVdXSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2IgJiYgY2IobnVsbCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYiAmJiBjYihlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0QWxsS2V5czogZnVuY3Rpb24gZ2V0QWxsS2V5cyhjYikge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2IgJiYgY2IobnVsbCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYiAmJiBjYihlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9KTtcbiAgfSxcbiAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNiKSB7XG4gICAgcmV0dXJuIEFQSS5tdWx0aVJlbW92ZShba2V5XSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYiAmJiBjYihudWxsKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYiAmJiBjYihlcnIsIG51bGwpO1xuICAgIH0pO1xuICB9LFxuICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIG1lcmdlSXRlbTogZnVuY3Rpb24gbWVyZ2VJdGVtKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gQVBJLm11bHRpTWVyZ2UoW1trZXksIHZhbHVlXV0pO1xuICB9LFxuICBtdWx0aUdldDogZnVuY3Rpb24gbXVsdGlHZXQoa2V5cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgdmFyIGtleVZhbHVlcyA9IGtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChbW2tleSwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KV1dKTtcbiAgICAgIH0sIFtdKTtcbiAgICAgIHJlc29sdmUoa2V5VmFsdWVzKTtcbiAgICB9KTtcbiAgfSxcbiAgbXVsdGlTZXQ6IGZ1bmN0aW9uIG11bHRpU2V0KGt2UGFpcnMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGVycm9ycyA9IFtdO1xuXG4gICAgICBrdlBhaXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICBrZXkgPSBfcmVmMlswXSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA+IDAgPyByZWplY3QoZXJyb3JzKSA6IHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSxcbiAgbXVsdGlNZXJnZTogZnVuY3Rpb24gbXVsdGlNZXJnZShrdlBhaXJzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcblxuICAgICAga3ZQYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXG4gICAgICAgICAgICBrZXkgPSBfcmVmNFswXSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZjRbMV07XG5cbiAgICAgICAgdmFyIHJhd1ZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcblxuICAgICAgICBpZiAoIXJhd1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KCgwLCBfbG9kYXNoMi5kZWZhdWx0KShKU09OLnBhcnNlKHJhd1ZhbHVlKSwgSlNPTi5wYXJzZSh2YWx1ZSkpKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPiAwID8gcmVqZWN0KGVycm9ycykgOiByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIG11bHRpUmVtb3ZlOiBmdW5jdGlvbiBtdWx0aVJlbW92ZShrZXlzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICB9KTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSxcbiAgZmx1c2hHZXRSZXF1ZXN0czogZnVuY3Rpb24gZmx1c2hHZXRSZXF1ZXN0cygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBjb25zb2xlLndhcm4oJ0FzeW5jU3RvcmFnZS5mbHVzaEdldFJlcXVlc3RzOiBOb3Qgc3VwcG9ydGVkIG9uIGB3ZWJgJyk7XG4gIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFQSTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xudmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgIH1cbiAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICogdmFsdWUgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9LCBrZXlzSW4pO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAqICBjb3VudGVycGFydHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgaWYgKHN0YWNrZWQpIHtcbiAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICA6IHVuZGVmaW5lZDtcblxuICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gIGlmIChpc0NvbW1vbikge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNDb21tb24pIHtcbiAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gIH1cbiAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gIGlmIChpc0RlZXApIHtcbiAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG4vKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiIG9yIFwiY29uc3RydWN0b3JcIi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuOC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICovXG5mdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjUuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0ge1xuICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICogfTtcbiAqXG4gKiB2YXIgb3RoZXIgPSB7XG4gKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gKiB9O1xuICpcbiAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gKi9cbnZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1lcmdlO1xuIiwiaW1wb3J0IHtJRmxhZ3NtaXRofSBmcm9tIFwiLi90eXBlc1wiO1xuXG5sZXQgX2ZldGNoOiB0eXBlb2YgZ2xvYmFsLmZldGNoO1xubGV0IEFzeW5jU3RvcmFnZTtcbmNvbnN0IEZMQUdTTUlUSF9LRVkgPSBcIkJVTExFVF9UUkFJTl9EQlwiO1xuY29uc3QgRkxBR1NNSVRIX0VWRU5UID0gXCJCVUxMRVRfVFJBSU5fRVZFTlRcIjtcbmNvbnN0IGRlZmF1bHRBUEkgPSAnaHR0cHM6Ly9hcGkuZmxhZ3NtaXRoLmNvbS9hcGkvdjEvJztcbmNvbnN0IGRlZXBFcXVhbCA9IHJlcXVpcmUoJ2Zhc3QtZGVlcC1lcXVhbCcpO1xuXG5jb25zdCBpbml0RXJyb3IgPSBmdW5jdGlvbiAoY2FsbGVyKSB7XG4gICAgcmV0dXJuIFwiQXR0ZW1wdGVkIHRvIFwiICsgY2FsbGVyICsgXCIgYSB1c2VyIGJlZm9yZSBjYWxsaW5nIGZsYWdzbWl0aC5pbml0LiBDYWxsIGZsYWdzbWl0aC5pbml0IGZpcnN0LCBpZiB5b3Ugd2lzaCB0byBwcmV2ZW50IGl0IHNlbmRpbmcgYSByZXF1ZXN0IGZvciBmbGFncywgY2FsbCBpbml0IHdpdGggcHJldmVudEZldGNoOnRydWUuXCJcbn1cblxuY29uc3QgRmxhZ3NtaXRoID0gY2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLmZldGNoKSB7XG4gICAgICAgICAgICBfZmV0Y2ggPSBwcm9wcy5mZXRjaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9mZXRjaCA9IGdsb2JhbC5mZXRjaDtcbiAgICAgICAgfVxuICAgICAgICBBc3luY1N0b3JhZ2UgPSBwcm9wcy5Bc3luY1N0b3JhZ2U7XG4gICAgfVxuXG4gICAgZ2V0SlNPTiA9ICh1cmw6c3RyaW5nLCBtZXRob2Q/OlwiR0VUXCJ8XCJQT1NUXCJ8XCJQVVRcIiwgYm9keT86Qm9keUluaXQpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbnZpcm9ubWVudElELCBoZWFkZXJzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICd4LWVudmlyb25tZW50LWtleSc6IGVudmlyb25tZW50SURcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG1ldGhvZCAmJiBtZXRob2QgIT09IFwiR0VUXCIpXG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXG5cbiAgICAgICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucy5oZWFkZXJzLCBoZWFkZXJzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZmV0Y2godXJsLCBvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRleHQoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5vayA/IGVyciA6IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICBnZXRGbGFncyA9IChyZXNvbHZlPzoodj86YW55KT0+YW55LCByZWplY3Q/Oih2PzphbnkpPT5hbnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvbkNoYW5nZSwgb25FcnJvciwgaWRlbnRpdHksIGFwaSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gKHsgZmxhZ3M6IGZlYXR1cmVzLCB0cmFpdHMgfSwgc2VnbWVudHMpID0+IHtcbiAgICAgICAgICAgIHRoaXMud2l0aFRyYWl0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHNlcnZlciByZXNwb25zZVxuICAgICAgICAgICAgbGV0IGZsYWdzID0ge307XG4gICAgICAgICAgICBsZXQgdXNlclRyYWl0cyA9IHt9O1xuICAgICAgICAgICAgZmVhdHVyZXMgPSBmZWF0dXJlcyB8fCBbXTtcbiAgICAgICAgICAgIHRyYWl0cyA9IHRyYWl0cyB8fCBbXTtcbiAgICAgICAgICAgIGZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgICAgICAgICAgICAgZmxhZ3NbZmVhdHVyZS5mZWF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZmVhdHVyZS5mZWF0dXJlLmlkLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmZWF0dXJlLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmZWF0dXJlLmZlYXR1cmVfc3RhdGVfdmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICAgICAgICAgICAgdXNlclRyYWl0c1t0cmFpdC50cmFpdF9rZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldID0gdHJhaXQudHJhaXRfdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vbGRGbGFncyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmZsYWdzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHNlZ21lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVzZXJTZWdtZW50cyA9IHt9O1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VyU2VnbWVudHNbcy5uYW1lXSA9IHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IHVzZXJTZWdtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZsYWdzRXF1YWwgPSBkZWVwRXF1YWwodGhpcy5mbGFncywgZmxhZ3MpO1xuICAgICAgICAgICAgY29uc3QgdHJhaXRzRXF1YWwgPSBkZWVwRXF1YWwodGhpcy50cmFpdHMsIHVzZXJUcmFpdHMpO1xuICAgICAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICAgICAgdGhpcy50cmFpdHMgPSB1c2VyVHJhaXRzO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdG9yYWdlKCk7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh0aGlzLm9sZEZsYWdzLCB7XG4gICAgICAgICAgICAgICAgICAgIGlzRnJvbVNlcnZlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3NDaGFuZ2VkOiAhZmxhZ3NFcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgdHJhaXRzQ2hhbmdlZDogIXRyYWl0c0VxdWFsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGlkZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMud2l0aFRyYWl0cz9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRKU09OKGFwaSArICdpZGVudGl0aWVzLycsIFwiUE9TVFwiLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkZW50aWZpZXJcIjogaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpdHM6IE9iamVjdC5rZXlzKHRoaXMud2l0aFRyYWl0cykubWFwKChrKT0+KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRyYWl0X2tleVwiOmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cmFpdF92YWx1ZVwiOiB0aGlzLndpdGhUcmFpdHNba11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICB9KSk6XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRKU09OKGFwaSArICdpZGVudGl0aWVzLz9pZGVudGlmaWVyPScgKyBlbmNvZGVVUklDb21wb25lbnQoaWRlbnRpdHkpKSxcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKHJlc1swXSwgcmVzWzFdKVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZSAmJiAhcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKCh7IG1lc3NhZ2UgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yICYmIG9uRXJyb3IoeyBtZXNzYWdlIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SlNPTihhcGkgKyBcImZsYWdzL1wiKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVzcG9uc2UoeyBmbGFnczogcmVzWzBdIH0sIG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHZlICYmICFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0ICYmICFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhbmFseXRpY3NGbGFncyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBhcGkgfSA9IHRoaXM7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLmV2YWx1YXRpb25FdmVudCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRKU09OKGFwaSArICdhbmFseXRpY3MvZmxhZ3MvJywgJ1BPU1QnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmV2YWx1YXRpb25FdmVudCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25FdmVudDoge30sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUV2ZW50U3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFeGNlcHRpb24gZmV0Y2hpbmcgZXZhbHVhdGlvbkV2ZW50XCIsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5hbHl0aWNzSW50ZXJ2YWw9IG51bGxcbiAgICBhcGk9IG51bGxcbiAgICBjYWNoZUZsYWdzPSBudWxsXG4gICAgZW5hYmxlQW5hbHl0aWNzPSBudWxsXG4gICAgZW5hYmxlTG9ncz0gbnVsbFxuICAgIGVudmlyb25tZW50SUQ9IG51bGxcbiAgICBldmFsdWF0aW9uRXZlbnQ9IG51bGxcbiAgICBmbGFncz0gbnVsbFxuICAgIGdldEZsYWdJbnRlcnZhbD0gbnVsbFxuICAgIGhlYWRlcnM9IG51bGxcbiAgICBpbml0aWFsaXNlZD0gbnVsbFxuICAgIG9sZEZsYWdzPSBudWxsXG4gICAgb25DaGFuZ2U9IG51bGxcbiAgICBvbkVycm9yPSBudWxsXG4gICAgaWRlbnRpdHk9IG51bGxcbiAgICBzZWdtZW50cz0gbnVsbFxuICAgIHRpY2tzPSBudWxsXG4gICAgdGltZXI9IG51bGxcbiAgICB0cmFpdHM9IG51bGxcbiAgICB3aXRoVHJhaXRzPSBudWxsXG5cbiAgICBpbml0KHtcbiAgICAgICAgZW52aXJvbm1lbnRJRCxcbiAgICAgICAgYXBpID0gZGVmYXVsdEFQSSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgIGNhY2hlRmxhZ3MsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICAgIGRlZmF1bHRGbGFncyxcbiAgICAgICAgcHJldmVudEZldGNoLFxuICAgICAgICBlbmFibGVMb2dzLFxuICAgICAgICBlbmFibGVBbmFseXRpY3MsXG4gICAgICAgIEFzeW5jU3RvcmFnZTogX0FzeW5jU3RvcmFnZSxcbiAgICAgICAgc3RhdGVcbiAgICB9KSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnRJRCA9IGVudmlyb25tZW50SUQ7XG4gICAgICAgICAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgICAgICB0aGlzLmdldEZsYWdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFuYWx5dGljc0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG9uRXJyb3I7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUxvZ3MgPSBlbmFibGVMb2dzO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVBbmFseXRpY3MgPSBlbmFibGVBbmFseXRpY3MgPyBlbmFibGVBbmFseXRpY3MgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RmxhZ3MpIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRpY2tzID0gMTAwMDA7XG5cblxuICAgICAgICAgICAgdGhpcy50aW1lciA9IHRoaXMuZW5hYmxlTG9ncyA/IG5ldyBEYXRlKCkudmFsdWVPZigpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChfQXN5bmNTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgQXN5bmNTdG9yYWdlID0gX0FzeW5jU3RvcmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FjaGVGbGFncyA9IHR5cGVvZiBBc3luY1N0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIGNhY2hlRmxhZ3M7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKVxuICAgICAgICAgICAgaWYgKCFlbnZpcm9ubWVudElEKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdQbGVhc2Ugc3BlY2lmeSBhIGVudmlyb25tZW50IGlkJylcbiAgICAgICAgICAgICAgICB0aHJvdyAoJ1BsZWFzZSBzcGVjaWZ5IGEgZW52aXJvbm1lbnQgaWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0oRkxBR1NNSVRIX0VWRU5UKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudCA9IEpTT04ucGFyc2UocmVzKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc0ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5hbmFseXRpY3NGbGFncywgdGhpcy50aWNrcyk7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5hbHl0aWNzSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmFuYWx5dGljc0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbShGTEFHU01JVEhfRVZFTlQsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJSZXRyaWV2ZWQgZXZlbnRzIGZyb20gY2FjaGVcIiwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25FdmVudDoganNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0lmIHRoZSB1c2VyIHNwZWNpZmllZCBkZWZhdWx0IGZsYWdzIGVtaXQgYSBjaGFuZ2VkIGV2ZW50IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY2FjaGVGbGFncykge1xuICAgICAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtKEZMQUdTTUlUSF9LRVksIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uICYmIGpzb24uYXBpID09PSB0aGlzLmFwaSAmJiBqc29uLmVudmlyb25tZW50SUQgPT09IHRoaXMuZW52aXJvbm1lbnRJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZyhcIlJldHJpZXZlZCBmbGFncyBmcm9tIGNhY2hlXCIsIGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZsYWdzKSB7IC8vIHJldHJpZXZlZCBmbGFncyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UobnVsbCwgeyBpc0Zyb21TZXJ2ZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2xkRmxhZ3MgPSB0aGlzLmZsYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRGZXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGbGFncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJFeGNlcHRpb24gZmV0Y2hpbmcgY2FjaGVkIGxvZ3NcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZlbnRGZXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MocmVzb2x2ZSwgcmVqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UobnVsbCwgeyBpc0Zyb21TZXJ2ZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0RmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShudWxsLCB7IGlzRnJvbVNlcnZlcjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBvbkVycm9yICYmIG9uRXJyb3IoZXJyb3IpKTtcbiAgICB9XG5cbiAgICBnZXRBbGxGbGFncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhZ3M7XG4gICAgfVxuXG4gICAgaWRlbnRpZnkodXNlcklkLCB0cmFpdHMpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eSA9IHVzZXJJZDtcbiAgICAgICAgaWYodHJhaXRzKSB7XG4gICAgICAgICAgICB0aGlzLndpdGhUcmFpdHMgPSB0cmFpdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGlzZWQgJiYgIXRoaXMuZ2V0RmxhZ0ludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICAgICAgICBlbnZpcm9ubWVudElEOiB0aGlzLmVudmlyb25tZW50SUQsXG4gICAgICAgICAgICBmbGFnczogdGhpcy5mbGFncyxcbiAgICAgICAgICAgIGlkZW50aXR5OiB0aGlzLmlkZW50aXR5LFxuICAgICAgICAgICAgc2VnbWVudHM6IHRoaXMuc2VnbWVudHMsXG4gICAgICAgICAgICB0cmFpdHM6IHRoaXMudHJhaXRzLFxuICAgICAgICAgICAgZXZhbHVhdGlvbkV2ZW50OiB0aGlzLmV2YWx1YXRpb25FdmVudCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFwaSA9IHN0YXRlLmFwaSB8fCB0aGlzLmFwaSB8fCBkZWZhdWx0QVBJO1xuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudElEID0gc3RhdGUuZW52aXJvbm1lbnRJRCB8fCB0aGlzLmVudmlyb25tZW50SUQ7XG4gICAgICAgICAgICB0aGlzLmZsYWdzID0gc3RhdGUuZmxhZ3MgfHwgdGhpcy5mbGFncztcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkgPSBzdGF0ZS5pZGVudGl0eSB8fCB0aGlzLmlkZW50aXR5O1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IHN0YXRlLnNlZ21lbnRzIHx8IHRoaXMuc2VnbWVudHM7XG4gICAgICAgICAgICB0aGlzLnRyYWl0cyA9IHN0YXRlLnRyYWl0cyB8fCB0aGlzLnRyYWl0cztcbiAgICAgICAgICAgIHRoaXMuZXZhbHVhdGlvbkV2ZW50ID0gc3RhdGUuZXZhbHVhdGlvbkV2ZW50IHx8IHRoaXMuZXZhbHVhdGlvbkV2ZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9nKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTG9ncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkodGhpcywgW1wiRkxBR1NNSVRIOlwiLCBuZXcgRGF0ZSgpLnZhbHVlT2YoKSAtIHRoaXMudGltZXIsIFwibXNcIiwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlU3RvcmFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVGbGFncykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIHN0b3JhZ2VcIiwgc3RhdGUpO1xuICAgICAgICAgICAgQXN5bmNTdG9yYWdlLnNldEl0ZW0oRkxBR1NNSVRIX0tFWSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRXZlbnRTdG9yYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVBbmFseXRpY3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0U3RhdGUoKS5ldmFsdWF0aW9uRXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5sb2coXCJTZXR0aW5nIGV2ZW50IHN0b3JhZ2VcIiwgZXZlbnRzKTtcbiAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5zZXRJdGVtKEZMQUdTTUlUSF9FVkVOVCwgZXZlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvZ291dCgpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYWl0cyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkICYmICF0aGlzLmdldEZsYWdJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgc3RhcnRMaXN0ZW5pbmcodGlja3MgPSAxMDAwKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEZsYWdJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdldEZsYWdJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRGbGFnSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLmdldEZsYWdzLCB0aWNrcyk7XG4gICAgfVxuXG4gICAgc3RvcExpc3RlbmluZygpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdldEZsYWdJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuZ2V0RmxhZ0ludGVydmFsID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRTZWdtZW50cygpIHtcbiAgICAgICAgLy8gbm9vcCBmb3Igbm93XG4gICAgICAgIC8vIHJldHVybiB0aGlzLnNlZ21lbnRzO1xuICAgIH1cblxuICAgIGV2YWx1YXRlRmxhZyA9IChrZXkpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZhbHVhdGlvbkV2ZW50KSByZXR1cm47XG4gICAgICAgICAgICBpZiAodGhpcy5ldmFsdWF0aW9uRXZlbnRba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnRba2V5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudFtrZXldICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFdmVudFN0b3JhZ2UoKTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZmxhZyA9IHRoaXMuZmxhZ3MgJiYgdGhpcy5mbGFnc1trZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldO1xuICAgICAgICBsZXQgcmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgIHJlcyA9IGZsYWcudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmFsdWF0ZUZsYWcoa2V5KTtcblxuICAgICAgICAvL3RvZG8gcmVjb3JkIGNoZWNrIGZvciB2YWx1ZVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZ2V0VHJhaXQgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYWl0ID0gdGhpcy50cmFpdHMgJiYgdGhpcy50cmFpdHNba2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpXTtcbiAgICAgICAgcmV0dXJuIHRyYWl0O1xuICAgIH1cblxuICAgIHNldFRyYWl0ID0gKGtleSwgdHJhaXRfdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRKU09OLCBpZGVudGl0eSwgYXBpIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghYXBpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGluaXRFcnJvcihcInNldFRyYWl0XCIpKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgICAgICAgXCJpZGVudGlmaWVyXCI6IGlkZW50aXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0cmFpdF9rZXlcIjoga2V5LFxuICAgICAgICAgICAgXCJ0cmFpdF92YWx1ZVwiOiB0cmFpdF92YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldEpTT04oYCR7YXBpfXRyYWl0cy9gLCAnUE9TVCcsIEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIHNldFRyYWl0cyA9ICh0cmFpdHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRKU09OLCBpZGVudGl0eSwgYXBpIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghYXBpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGluaXRFcnJvcihcInNldFRyYWl0c1wiKSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0cmFpdHMgfHwgdHlwZW9mIHRyYWl0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFeHBlY3RlZCBvYmplY3QgZm9yIGZsYWdzbWl0aC5zZXRUcmFpdHNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmtleXModHJhaXRzKS5tYXAoKGtleSkgPT4gKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImlkZW50aWZpZXJcIjogaWRlbnRpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwidHJhaXRfa2V5XCI6IGtleSxcbiAgICAgICAgICAgICAgICBcInRyYWl0X3ZhbHVlXCI6IHRyYWl0c1trZXldXG4gICAgICAgICAgICB9XG4gICAgICAgICkpXG5cbiAgICAgICAgcmV0dXJuIGdldEpTT04oYCR7YXBpfXRyYWl0cy9idWxrL2AsICdQVVQnLCBKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICBpbmNyZW1lbnRUcmFpdCA9ICh0cmFpdF9rZXksIGluY3JlbWVudF9ieSkgPT4ge1xuICAgICAgICBjb25zdCB7IGdldEpTT04sIGlkZW50aXR5LCBhcGkgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBnZXRKU09OKGAke2FwaX10cmFpdHMvaW5jcmVtZW50LXZhbHVlL2AsICdQT1NUJywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHJhaXRfa2V5LFxuICAgICAgICAgICAgaW5jcmVtZW50X2J5LFxuICAgICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpdHlcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAudGhlbih0aGlzLmdldEZsYWdzKVxuICAgIH07XG5cbiAgICBoYXNGZWF0dXJlID0gKGtleSkgPT4ge1xuICAgICAgICBjb25zdCBmbGFnID0gdGhpcy5mbGFncyAmJiB0aGlzLmZsYWdzW2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJ18nKV07XG4gICAgICAgIGxldCByZXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGZsYWcgJiYgZmxhZy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZhbHVhdGVGbGFnKGtleSk7XG5cbiAgICAgICAgLy90b2RvIHJlY29yZCBjaGVjayBmb3IgZmVhdHVyZVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG59O1xuXG50eXBlIENvbmZpZz0ge2ZldGNoPzphbnksIEFzeW5jU3RvcmFnZT86YW55fTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHsgZmV0Y2gsIEFzeW5jU3RvcmFnZSB9OkNvbmZpZyk6SUZsYWdzbWl0aCB7XG4gICAgcmV0dXJuIG5ldyBGbGFnc21pdGgoeyBmZXRjaCwgQXN5bmNTdG9yYWdlIH0pIGFzIElGbGFnc21pdGg7XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZSxuKXtyZXR1cm4gbj1ufHx7fSxuZXcgUHJvbWlzZShmdW5jdGlvbih0LHIpe3ZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdCxvPVtdLHU9W10saT17fSxhPWZ1bmN0aW9uKCl7cmV0dXJue29rOjI9PShzLnN0YXR1cy8xMDB8MCksc3RhdHVzVGV4dDpzLnN0YXR1c1RleHQsc3RhdHVzOnMuc3RhdHVzLHVybDpzLnJlc3BvbnNlVVJMLHRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHMucmVzcG9uc2VUZXh0KX0sanNvbjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUocy5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSl9LGJsb2I6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFtzLnJlc3BvbnNlXSkpfSxjbG9uZTphLGhlYWRlcnM6e2tleXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW50cmllczpmdW5jdGlvbigpe3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGlbZS50b0xvd2VyQ2FzZSgpXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKClpbiBpfX19fTtmb3IodmFyIGwgaW4gcy5vcGVuKG4ubWV0aG9kfHxcImdldFwiLGUsITApLHMub25sb2FkPWZ1bmN0aW9uKCl7cy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5yZXBsYWNlKC9eKC4qPyk6W15cXFNcXG5dKihbXFxzXFxTXSo/KSQvZ20sZnVuY3Rpb24oZSxuLHQpe28ucHVzaChuPW4udG9Mb3dlckNhc2UoKSksdS5wdXNoKFtuLHRdKSxpW25dPWlbbl0/aVtuXStcIixcIit0OnR9KSx0KGEoKSl9LHMub25lcnJvcj1yLHMud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT1uLmNyZWRlbnRpYWxzLG4uaGVhZGVycylzLnNldFJlcXVlc3RIZWFkZXIobCxuLmhlYWRlcnNbbF0pO3Muc2VuZChuLmJvZHl8fG51bGwpfSl9XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmZldGNoLm1vZHVsZS5qcy5tYXBcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiaW1wb3J0IHsgSUZsYWdzbWl0aCB9IGZyb20gJy4vdHlwZXMnO1xuXG5sZXQgZmV0Y2ggPSByZXF1aXJlKFwidW5mZXRjaFwiKS5kZWZhdWx0O1xuaW1wb3J0IEFzeW5jU3RvcmFnZSBmcm9tIFwiQGNhbGxzdGFjay9hc3luYy1zdG9yYWdlXCI7XG5pbXBvcnQgY29yZSBmcm9tICcuL2ZsYWdzbWl0aC1jb3JlJ1xuY29uc3QgZmxhZ3NtaXRoID0gY29yZSh7QXN5bmNTdG9yYWdlLCBmZXRjaH0pO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgd2luZG93LmZsYWdzbWl0aCA9IGZsYWdzbWl0aDtcbn1cbmV4cG9ydCBkZWZhdWx0IGZsYWdzbWl0aDtcbmV4cG9ydCBjb25zdCBjcmVhdGVGbGFnc21pdGhJbnN0YW5jZSA9ICgpOklGbGFnc21pdGg9PntcbiAgICByZXR1cm4gY29yZSh7QXN5bmNTdG9yYWdlLCBmZXRjaH0pXG59XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIm9iaiIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwicHVzaCIsImxlbmd0aCIsImVyciIsInNsaWNlSXRlcmF0b3IiLCJUeXBlRXJyb3IiLCJfbG9kYXNoMiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiQVBJIiwiZ2V0SXRlbSIsImtleSIsImNiIiwibXVsdGlHZXQiLCJ0aGVuIiwidmFsdWVzIiwiZGF0YSIsImNhdGNoIiwic2V0SXRlbSIsIm11bHRpU2V0IiwiZ2V0QWxsS2V5cyIsIlByb21pc2UiLCJyZXNvbHZlIiwia2V5cyIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJtdWx0aVJlbW92ZSIsImNsZWFyIiwid2luZG93IiwibWVyZ2VJdGVtIiwibXVsdGlNZXJnZSIsInJlZHVjZSIsImFjYyIsImNvbmNhdCIsImt2UGFpcnMiLCJyZWplY3QiLCJlcnJvcnMiLCJmb3JFYWNoIiwiX3JlZiIsIl9yZWYyIiwiZXJyb3IiLCJfcmVmMyIsIl9yZWY0IiwicmF3VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJmbHVzaEdldFJlcXVlc3RzIiwiY29uc29sZSIsIndhcm4iLCJlcXVhbCIsImIiLCJjb25zdHJ1Y3RvciIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwidmFsdWVPZiIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfU0FGRV9JTlRFR0VSIiwiYXJnc1RhZyIsImZ1bmNUYWciLCJvYmplY3RUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJyZXF1aXJlIiwidHlwZXMiLCJiaW5kaW5nIiwiZSIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcHBseSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJncyIsInVpZCIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiZXhlYyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwicmVJc05hdGl2ZSIsInJlcGxhY2UiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiZ2V0UHJvdG90eXBlIiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGVPZiIsImFyZyIsIm9iamVjdENyZWF0ZSIsImNyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ltVG9TdHJpbmdUYWciLCJ0b1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVNYXgiLCJNYXRoIiwibWF4IiwibmF0aXZlTm93IiwiRGF0ZSIsIm5vdyIsIk1hcCIsIm5hdGl2ZUNyZWF0ZSIsImJhc2VDcmVhdGUiLCJvYmplY3QiLCJwcm90byIsImlzT2JqZWN0IiwicmVzdWx0IiwiSGFzaCIsImVudHJpZXMiLCJpbmRleCIsImVudHJ5Iiwic2V0IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTdGFjayIsIl9fZGF0YV9fIiwic2l6ZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJhcnJheSIsImhhcyIsImdldCIsInBvcCIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJjdXN0b21pemVyIiwic3RhY2siLCJpdGVyYXRlZSIsImtleXNGdW5jIiwiaXRlcmFibGUiLCJwcm9wcyIsImJhc2VGb3IiLCJzcmNWYWx1ZSIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJzdGFja2VkIiwidHlwZWRBcnJheSIsImJ1ZmZlciIsImFycmF5QnVmZmVyIiwibmV3VmFsdWUiLCJpc0NvbW1vbiIsImlzQXJyIiwiaXNCdWZmIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlIiwiY29weUFycmF5IiwiaXNEZWVwIiwic2xpY2UiLCJjbG9uZUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJpc0FyZ3VtZW50cyIsImlzTmV3IiwiY29weU9iamVjdCIsImtleXNJbiIsInRvUGxhaW5PYmplY3QiLCJpc0Z1bmN0aW9uIiwiaXNQcm90b3R5cGUiLCJpbml0Q2xvbmVPYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZVNldFRvU3RyaW5nIiwic3RyaW5nIiwiaWRlbnRpdHkiLCJtYXAiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJpc01hc2tlZCIsInRlc3QiLCJ0b1NvdXJjZSIsImJhc2VJc05hdGl2ZSIsImlzSW5kZXgiLCJzZXRUb1N0cmluZyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwiYXJndW1lbnRzIiwic2hvcnRPdXQiLCJvdGhlciIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiaW5oZXJpdGVkIiwiaXNBcmciLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIm4iLCJiYXNlVGltZXMiLCJTdHJpbmciLCJhcnJheUxpa2VLZXlzIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VLZXlzSW4iLCJhc3NpZ25lciIsIm1lcmdlIiwic3RhcnQiLCJvdGhlckFyZ3MiLCJvdmVyUmVzdCIsImJhc2VSZXN0Iiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJfZmV0Y2giLCJBc3luY1N0b3JhZ2UiLCJGTEFHU01JVEhfS0VZIiwiRkxBR1NNSVRIX0VWRU5UIiwiZGVmYXVsdEFQSSIsImRlZXBFcXVhbCIsImluaXRFcnJvciIsImNhbGxlciIsIkZsYWdzbWl0aCIsImdldEpTT04iLCJ1cmwiLCJtZXRob2QiLCJib2R5IiwiZW52aXJvbm1lbnRJRCIsImhlYWRlcnMiLCJvcHRpb25zIiwiYXNzaWduIiwicmVzIiwidGV4dCIsIm9rIiwiZ2V0RmxhZ3MiLCJvbkNoYW5nZSIsIm9uRXJyb3IiLCJhcGkiLCJyZXNvbHZlZCIsImhhbmRsZVJlc3BvbnNlIiwic2VnbWVudHMiLCJmZWF0dXJlcyIsInRyYWl0cyIsIndpdGhUcmFpdHMiLCJ1c2VyVHJhaXRzIiwiZmVhdHVyZSIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImlkIiwiZW5hYmxlZCIsImZlYXR1cmVfc3RhdGVfdmFsdWUiLCJ0cmFpdCIsInRyYWl0X2tleSIsInRyYWl0X3ZhbHVlIiwib2xkRmxhZ3MiLCJzIiwiZmxhZ3NFcXVhbCIsInRyYWl0c0VxdWFsIiwidXBkYXRlU3RvcmFnZSIsImlzRnJvbVNlcnZlciIsImZsYWdzQ2hhbmdlZCIsInRyYWl0c0NoYW5nZWQiLCJhbGwiLCJrIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVzc2FnZSIsImFuYWx5dGljc0ZsYWdzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImV2YWx1YXRpb25FdmVudCIsInN0YXRlIiwiZ2V0U3RhdGUiLCJzZXRTdGF0ZSIsInVwZGF0ZUV2ZW50U3RvcmFnZSIsImxvZyIsImFuYWx5dGljc0ludGVydmFsIiwiY2FjaGVGbGFncyIsImVuYWJsZUFuYWx5dGljcyIsImVuYWJsZUxvZ3MiLCJnZXRGbGFnSW50ZXJ2YWwiLCJpbml0aWFsaXNlZCIsInRpY2tzIiwidGltZXIiLCJldmFsdWF0ZUZsYWciLCJmbGFnIiwiZ2V0VHJhaXQiLCJzZXRUcmFpdCIsInNldFRyYWl0cyIsImluY3JlbWVudFRyYWl0IiwiaW5jcmVtZW50X2J5IiwiaWRlbnRpZmllciIsImhhc0ZlYXR1cmUiLCJmZXRjaCIsImluaXQiLCJkZWZhdWx0RmxhZ3MiLCJwcmV2ZW50RmV0Y2giLCJfQXN5bmNTdG9yYWdlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwianNvbiIsImdldEFsbEZsYWdzIiwiaWRlbnRpZnkiLCJ1c2VySWQiLCJldmVudHMiLCJsb2dvdXQiLCJzdGFydExpc3RlbmluZyIsInN0b3BMaXN0ZW5pbmciLCJnZXRTZWdtZW50cyIsInQiLCJyIiwiWE1MSHR0cFJlcXVlc3QiLCJvIiwidSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlVGV4dCIsImJsb2IiLCJCbG9iIiwicmVzcG9uc2UiLCJjbG9uZSIsImwiLCJvcGVuIiwib25sb2FkIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwib25lcnJvciIsIndpdGhDcmVkZW50aWFscyIsImNyZWRlbnRpYWxzIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJlbnVtZXJhYmxlIiwicHJvcCIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJmbGFnc21pdGgiLCJjcmVhdGVGbGFnc21pdGhJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiIn0=