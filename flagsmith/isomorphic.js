!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(function(){return(()=>{var t={322:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=(r=n(378))&&r.__esModule?r:{default:r},o={getItem:function(t,e){return o.multiGet([t]).then((function(t){return t[0][1]})).then((function(t){return e&&e(null,t),t})).catch((function(t){return e&&e(t,null),t}))},setItem:function(t,e,n){return o.multiSet([[t,e]]).then((function(t){return n&&n(null,t),t})).catch((function(t){return n&&n(t,null),t}))},getAllKeys:function(t){return Promise.resolve(Object.keys(localStorage)).then((function(e){return t&&t(null,e),e})).catch((function(e){return t&&t(e,null),e}))},removeItem:function(t,e){return o.multiRemove([t]).then((function(){e&&e(null)})).catch((function(t){e&&e(t,null)}))},clear:function(){return new Promise((function(t){window.localStorage.clear(),t()}))},mergeItem:function(t,e){return o.multiMerge([[t,e]])},multiGet:function(t){return new Promise((function(e){e(t.reduce((function(t,e){return t.concat([[e,localStorage.getItem(e)]])}),[]))}))},multiSet:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],a=e[1];try{localStorage.setItem(n,a)}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiMerge:function(t){return new Promise((function(e,n){var r=[];return t.forEach((function(t){var e=i(t,2),n=e[0],o=e[1],s=localStorage.getItem(n);if(s)try{localStorage.setItem(n,JSON.stringify((0,a.default)(JSON.parse(s),JSON.parse(o))))}catch(t){r.push(t)}})),r.length>0?n(r):e()}))},multiRemove:function(t){return new Promise((function(e){t.forEach((function(t){return window.localStorage.removeItem(t)})),e()}))},flushGetRequests:function(){console.warn("AsyncStorage.flushGetRequests: Not supported on `web`")}};e.default=o},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(a=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!=e&&n!=n}},378:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[a]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[o]=c["[object Map]"]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var f="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,g=f||h||Function("return this")(),v=e&&!e.nodeType&&e,p=v&&t&&!t.nodeType&&t,y=p&&p.exports===v,d=y&&f.process,_=function(){try{return p&&p.require&&p.require("util").types||d&&d.binding&&d.binding("util")}catch(t){}}(),b=_&&_.isTypedArray;function m(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S,j,O,w=Array.prototype,I=Function.prototype,F=Object.prototype,A=g["__core-js_shared__"],E=I.toString,T=F.hasOwnProperty,P=(S=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",N=F.toString,x=E.call(Object),J=RegExp("^"+E.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=y?g.Buffer:void 0,z=g.Symbol,C=g.Uint8Array,L=(k&&k.allocUnsafe,j=Object.getPrototypeOf,O=Object,function(t){return j(O(t))}),D=Object.create,R=F.propertyIsEnumerable,M=w.splice,U=z?z.toStringTag:void 0,G=function(){try{var t=ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),B=k?k.isBuffer:void 0,$=Math.max,q=Date.now,V=ut(g,"Map"),H=ut(Object,"create"),K=function(){function t(){}return function(e){if(!mt(e))return{};if(D)return D(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Y(t){var e=this.__data__=new Q(t);this.size=e.size}function Z(t,e,n){(void 0!==n&&!gt(t[e],n)||void 0===n&&!(e in t))&&nt(t,e,n)}function tt(t,e,n){var r=t[e];T.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||nt(t,e,n)}function et(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function nt(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}W.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},W.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},W.prototype.get=function(t){var e=this.__data__;if(H){var n=e[t];return n===r?void 0:n}return T.call(e,t)?e[t]:void 0},W.prototype.has=function(t){var e=this.__data__;return H?void 0!==e[t]:T.call(e,t)},W.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=H&&void 0===e?r:e,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var e=this.__data__,n=et(e,t);return!(n<0||(n==e.length-1?e.pop():M.call(e,n,1),--this.size,0))},Q.prototype.get=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]},Q.prototype.has=function(t){return et(this.__data__,t)>-1},Q.prototype.set=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(V||Q),string:new W}},X.prototype.delete=function(t){var e=st(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return st(this,t).get(t)},X.prototype.has=function(t){return st(this,t).has(t)},X.prototype.set=function(t,e){var n=st(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new Q,this.size=0},Y.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Y.prototype.get=function(t){return this.__data__.get(t)},Y.prototype.has=function(t){return this.__data__.has(t)},Y.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!V||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(t,e),this.size=n.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":U&&U in Object(t)?function(t){var e=T.call(t,U),n=t[U];try{t[U]=void 0;var r=!0}catch(t){}var i=N.call(t);return r&&(e?t[U]=n:delete t[U]),i}(t):function(t){return N.call(t)}(t)}function it(t){return St(t)&&rt(t)==a}function at(t,e,n,r,i){t!==e&&function(t,e,n){for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var s=a[++r];if(!1===e(i[s],s,i))break}}(e,(function(a,o){if(i||(i=new Y),mt(a))!function(t,e,n,r,i,a,o){var u=ft(t,n),l=ft(e,n),c=o.get(l);if(c)Z(t,n,c);else{var f,h,g,v,p,y=a?a(u,l,n+"",t,e,o):void 0,d=void 0===y;if(d){var _=pt(l),b=!_&&dt(l),m=!_&&!b&&jt(l);y=l,_||b||m?pt(u)?y=u:St(p=u)&&yt(p)?y=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):b?(d=!1,y=function(t,e){return t.slice()}(l)):m?(d=!1,v=new(g=(f=l).buffer).constructor(g.byteLength),new C(v).set(new C(g)),h=v,y=new f.constructor(h,f.byteOffset,f.length)):y=[]:function(t){if(!St(t)||rt(t)!=s)return!1;var e=L(t);if(null===e)return!0;var n=T.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==x}(l)||vt(l)?(y=u,vt(u)?y=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=void 0;void 0===u&&(u=t[s]),i?nt(n,s,u):tt(n,s,u)}return n}(t,Ot(t))}(u):mt(u)&&!_t(u)||(y=function(t){return"function"!=typeof t.constructor||ct(t)?{}:K(L(t))}(l))):d=!1}d&&(o.set(l,y),i(y,l,r,a,o),o.delete(l)),Z(t,n,y)}}(t,e,o,n,at,r,i);else{var u=r?r(ft(t,o),a,o+"",t,e,i):void 0;void 0===u&&(u=a),Z(t,o,u)}}),Ot)}var ot=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ft;function st(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!mt(t)||function(t){return!!P&&P in t}(t))&&(_t(t)?J:u).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function lt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&l.test(t))&&t>-1&&t%1==0&&t<e}function ct(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||F)}function ft(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ht=function(t){var e=0,n=0;return function(){var r=q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ot);function gt(t,e){return t===e||t!=t&&e!=e}var vt=it(function(){return arguments}())?it:function(t){return St(t)&&T.call(t,"callee")&&!R.call(t,"callee")},pt=Array.isArray;function yt(t){return null!=t&&bt(t.length)&&!_t(t)}var dt=B||function(){return!1};function _t(t){if(!mt(t))return!1;var e=rt(t);return e==o||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function bt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function St(t){return null!=t&&"object"==typeof t}var jt=b?function(t){return function(e){return t(e)}}(b):function(t){return St(t)&&bt(t.length)&&!!c[rt(t)]};function Ot(t){return yt(t)?function(t,e){var n=pt(t),r=!n&&vt(t),i=!n&&!r&&dt(t),a=!n&&!r&&!i&&jt(t),o=n||r||i||a,s=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var l in t)!e&&!T.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||lt(l,u))||s.push(l);return s}(t,!0):function(t){if(!mt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ct(t),n=[];for(var r in t)("constructor"!=r||!e&&T.call(t,r))&&n.push(r);return n}(t)}var wt,It=(wt=function(t,e,n){at(t,e,n)},function(t,e){return ht(function(t,e,n){return e=$(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=$(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),m(t,this,s)}}(t,e,Ft),t+"")}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(i=wt.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(t,e,n){if(!mt(n))return!1;var r=typeof e;return!!("number"==r?yt(n)&&lt(e,n.length):"string"==r&&e in n)&&gt(n[e],t)}(e[0],e[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&wt(t,o,n)}return t})));function Ft(t){return t}t.exports=It},142:function(t,e,n){"use strict";var r,i,a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var s="BULLET_TRAIN_DB",u="BULLET_TRAIN_EVENT",l="https://api.flagsmith.com/api/v1/",c=n(63),f=function(t){return"Attempted to "+t+" a user before calling flagsmith.init. Call flagsmith.init first, if you wish to prevent it sending a request for flags, call init with preventFetch:true."},h=function(){function t(t){var e=this;this.getJSON=function(t,n,i){var a=e,o=a.environmentID,s=a.headers,u={method:n||"GET",body:i,headers:{"x-environment-key":o}};return n&&"GET"!==n&&(u.headers["Content-Type"]="application/json; charset=utf-8"),s&&Object.assign(u.headers,s),r(t,u).then((function(t){return t.text().then((function(e){var n=e;try{n=JSON.parse(e)}catch(t){}return t.ok?n:Promise.reject(n)}))}))},this.getFlags=function(t,n){var r=e,i=r.onChange,o=r.onError,s=r.identity,u=r.api,l=!1,f=function(t,n){var r=t.flags,o=t.traits;e.withTraits=!1;var s={},u={};if(o=o||[],(r=r||[]).forEach((function(t){s[t.feature.name.toLowerCase().replace(/ /g,"_")]={id:t.feature.id,enabled:t.enabled,value:t.feature_state_value}})),o.forEach((function(t){u[t.trait_key.toLowerCase().replace(/ /g,"_")]=t.trait_value})),e.oldFlags=a({},e.flags),n){var l={};n.map((function(t){l[t.name]=t})),e.segments=l}var f=c(e.flags,s),h=c(e.traits,u);e.flags=s,e.traits=u,e.updateStorage(),i&&i(e.oldFlags,{isFromServer:!0,flagsChanged:!f,traitsChanged:!h})};return s?Promise.all([e.withTraits?e.getJSON(u+"identities/","POST",JSON.stringify({identifier:s,traits:Object.keys(e.withTraits).map((function(t){return{trait_key:t,trait_value:e.withTraits[t]}}))})):e.getJSON(u+"identities/?identifier="+encodeURIComponent(s))]).then((function(e){f(e[0],e[1]),t&&!l&&(l=!0,t())})).catch((function(t){var e=t.message;o&&o({message:e})})):Promise.all([e.getJSON(u+"flags/")]).then((function(e){f({flags:e[0]},null),t&&!l&&(l=!0,t())})).catch((function(t){n&&!l&&(l=!0,n(t)),o&&o(t)}))},this.analyticsFlags=function(){var t=e.api;if(0!==Object.getOwnPropertyNames(e.evaluationEvent).length)return e.getJSON(t+"analytics/flags/","POST",JSON.stringify(e.evaluationEvent)).then((function(t){var n=e.getState();e.setState(a(a({},n),{evaluationEvent:{}})),e.updateEventStorage()})).catch((function(t){e.log("Exception fetching evaluationEvent",t)}))},this.analyticsInterval=null,this.api=null,this.cacheFlags=null,this.enableAnalytics=null,this.enableLogs=null,this.environmentID=null,this.evaluationEvent=null,this.flags=null,this.getFlagInterval=null,this.headers=null,this.initialised=null,this.oldFlags=null,this.onChange=null,this.onError=null,this.identity=null,this.segments=null,this.ticks=null,this.timer=null,this.traits=null,this.withTraits=null,this.evaluateFlag=function(t){if(e.enableAnalytics){if(!e.evaluationEvent)return;void 0===e.evaluationEvent[t]&&(e.evaluationEvent[t]=0),e.evaluationEvent[t]+=1}e.updateEventStorage()},this.getValue=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=null;return n&&(r=n.value),e.evaluateFlag(t),r},this.getTrait=function(t){return e.traits&&e.traits[t.toLowerCase().replace(/ /g,"_")]},this.setTrait=function(t,n){var r=e,i=r.getJSON,a=r.identity,o=r.api;if(o){var s={identity:{identifier:a},trait_key:t,trait_value:n};return i("".concat(o,"traits/"),"POST",JSON.stringify(s)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTrait"))},this.setTraits=function(t){var n=e,r=n.getJSON,i=n.identity,a=n.api;if(a){t&&"object"==typeof t||console.error("Expected object for flagsmith.setTraits");var o=Object.keys(t).map((function(e){return{identity:{identifier:i},trait_key:e,trait_value:t[e]}}));return r("".concat(a,"traits/bulk/"),"PUT",JSON.stringify(o)).then((function(){e.initialised&&e.getFlags()}))}console.error(f("setTraits"))},this.incrementTrait=function(t,n){var r=e,i=r.getJSON,a=r.identity,o=r.api;return i("".concat(o,"traits/increment-value/"),"POST",JSON.stringify({trait_key:t,increment_by:n,identifier:a})).then(e.getFlags)},this.hasFeature=function(t){var n=e.flags&&e.flags[t.toLowerCase().replace(/ /g,"_")],r=!1;return n&&n.enabled&&(r=!0),e.evaluateFlag(t),r},r=t.fetch?t.fetch:global.fetch,i=t.AsyncStorage}return t.prototype.init=function(t){var e=this,n=t.environmentID,r=t.api,o=void 0===r?l:r,c=t.headers,f=t.onChange,h=t.cacheFlags,g=t.onError,v=t.defaultFlags,p=t.preventFetch,y=t.enableLogs,d=t.enableAnalytics,_=t.AsyncStorage,b=t.state;return new Promise((function(t,r){if(e.environmentID=n,e.api=o,e.headers=c,e.getFlagInterval=null,e.analyticsInterval=null,e.onChange=f,e.onError=g,e.enableLogs=y,e.enableAnalytics=d||!1,e.flags=Object.assign({},v)||{},e.initialised=!0,e.ticks=1e4,e.timer=e.enableLogs?(new Date).valueOf():null,_&&(i=_),e.cacheFlags=void 0!==i&&h,e.setState(b),!n)throw r("Please specify a environment id"),"Please specify a environment id";i.getItem(u).then((function(t){if(t)try{e.evaluationEvent=JSON.parse(t)}catch(t){e.evaluationEvent={}}else e.evaluationEvent={};e.analyticsInterval=setInterval(e.analyticsFlags,e.ticks)})),e.enableAnalytics&&(e.analyticsInterval&&clearInterval(e.analyticsInterval),i.getItem(u,(function(t,n){if(n){var r=JSON.parse(n);r&&(b=e.getState(),e.log("Retrieved events from cache",n),e.setState(a(a({},b),{evaluationEvent:r})))}}))),h?i.getItem(s,(function(n,i){if(i)try{var a=JSON.parse(i);a&&a.api===e.api&&a.environmentID===e.environmentID&&(e.setState(a),e.log("Retrieved flags from cache",a)),e.flags?(e.onChange&&e.onChange(null,{isFromServer:!1}),e.oldFlags=e.flags,t(!0),p||e.getFlags()):p?t(!0):e.getFlags(t,r)}catch(t){e.log("Exception fetching cached logs",t)}else p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})):p?(v&&e.onChange(null,{isFromServer:!1}),t(!0)):e.getFlags(t,r)})).catch((function(t){return g&&g(t)}))},t.prototype.getAllFlags=function(){return this.flags},t.prototype.identify=function(t,e){return this.identity=t,e&&(this.withTraits=e),this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.getState=function(){return{api:this.api,environmentID:this.environmentID,flags:this.flags,identity:this.identity,segments:this.segments,traits:this.traits,evaluationEvent:this.evaluationEvent}},t.prototype.setState=function(t){t&&(this.initialised=!0,this.api=t.api||this.api||l,this.environmentID=t.environmentID||this.environmentID,this.flags=t.flags||this.flags,this.identity=t.identity||this.identity,this.segments=t.segments||this.segments,this.traits=t.traits||this.traits,this.evaluationEvent=t.evaluationEvent||this.evaluationEvent)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enableLogs&&console.log.apply(this,o(["FLAGSMITH:",(new Date).valueOf()-this.timer,"ms"],t,!0))},t.prototype.updateStorage=function(){if(this.cacheFlags){var t=JSON.stringify(this.getState());this.log("Setting storage",t),i.setItem(s,t)}},t.prototype.updateEventStorage=function(){if(this.enableAnalytics){var t=JSON.stringify(this.getState().evaluationEvent);this.log("Setting event storage",t),i.setItem(u,t)}},t.prototype.logout=function(){return this.identity=null,this.segments=null,this.traits=null,this.initialised&&!this.getFlagInterval?this.getFlags():Promise.resolve()},t.prototype.startListening=function(t){void 0===t&&(t=1e3),this.getFlagInterval&&clearInterval(this.getFlagInterval),this.getFlagInterval=setInterval(this.getFlags,t)},t.prototype.stopListening=function(){clearInterval(this.getFlagInterval),this.getFlagInterval=null},t.prototype.getSegments=function(){},t}();e.default=function(t){var e=t.fetch,n=t.AsyncStorage;return new h({fetch:e,AsyncStorage:n})}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";var t=r;Object.defineProperty(t,"__esModule",{value:!0});var e=n(322),i=n(142)({AsyncStorage:e.default});"undefined"!=typeof window&&(window.flagsmith=i),t.default=i})(),r})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxJQUFFZixFQUFLLFFBQUU1RSxFQUFZLGVBQzFDLE9BQU8sSUFBSU8sRUFBVSxDQUFFcUUsTUFBSyxFQUFFNUUsYUFBWSxPQzFmMUM0RixFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCdlYsSUFBakJ3VixFQUNILE9BQU9BLEVBQWE3VyxRQUdyQixJQUFJQyxFQUFTeVcsRUFBeUJFLEdBQVksQ0FDakQ3RCxHQUFJNkQsRUFDSkUsUUFBUSxFQUNSOVcsUUFBUyxJQVVWLE9BTkErVyxFQUFvQkgsR0FBVXZSLEtBQUtwRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTMlcsR0FHM0UxVyxFQUFPNlcsUUFBUyxFQUdUN1csRUFBT0QsUUN4QmYyVyxFQUFvQkssSUFBTy9XLElBQzFCQSxFQUFPZ1gsTUFBUSxHQUNWaFgsRUFBT2lYLFdBQVVqWCxFQUFPaVgsU0FBVyxJQUNqQ2pYLEcsMkZDSFIsYUFFTWtYLEVBRE8sRUFBUSxJQUNIQyxDQUFLLENBQUN0RyxhQUFZLFlBQ2Qsb0JBQVh6TixTQUVQQSxPQUFPOFQsVUFBWUEsR0FFdkIsVUFBZUEsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vbm9kZV9tb2R1bGVzL0BjYWxsc3RhY2svYXN5bmMtc3RvcmFnZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9ub2RlX21vZHVsZXMvbG9kYXNoLm1lcmdlL2luZGV4LmpzIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL2ZsYWdzbWl0aC1jb3JlLnRzIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mbGFnc21pdGgvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9pc29tb3JwaGljLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTsgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGluZGV4LmpzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHJlYWN0LW5hdGl2ZS1jcm9zcy1wbGF0Zm9ybS1zdG9yYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENyZWF0ZWQgYnkgTWlrZSBHcmFib3dza2kgb24gMTIvMTIvMTYuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCDCqSAyMDE2IENhbGxzdGFjay5pby4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaC5tZXJnZScpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQVBJID0ge1xuICBnZXRJdGVtOiBmdW5jdGlvbiBnZXRJdGVtKGtleSwgY2IpIHtcbiAgICByZXR1cm4gQVBJLm11bHRpR2V0KFtrZXldKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgIHJldHVybiB2YWx1ZXNbMF1bMV07XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgY2IgJiYgY2IobnVsbCwgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYiAmJiBjYihlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9KTtcbiAgfSxcbiAgc2V0SXRlbTogZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYikge1xuICAgIHJldHVybiBBUEkubXVsdGlTZXQoW1trZXksIHZhbHVlXV0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNiICYmIGNiKG51bGwsIGRhdGEpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gIH0sXG4gIGdldEFsbEtleXM6IGZ1bmN0aW9uIGdldEFsbEtleXMoY2IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNiICYmIGNiKG51bGwsIGRhdGEpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICAgIHJldHVybiBlcnI7XG4gICAgfSk7XG4gIH0sXG4gIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYikge1xuICAgIHJldHVybiBBUEkubXVsdGlSZW1vdmUoW2tleV0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2IgJiYgY2IobnVsbCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2IgJiYgY2IoZXJyLCBudWxsKTtcbiAgICB9KTtcbiAgfSxcbiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9LFxuICBtZXJnZUl0ZW06IGZ1bmN0aW9uIG1lcmdlSXRlbShrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIEFQSS5tdWx0aU1lcmdlKFtba2V5LCB2YWx1ZV1dKTtcbiAgfSxcbiAgbXVsdGlHZXQ6IGZ1bmN0aW9uIG11bHRpR2V0KGtleXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIHZhciBrZXlWYWx1ZXMgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoW1trZXksIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSldXSk7XG4gICAgICB9LCBbXSk7XG4gICAgICByZXNvbHZlKGtleVZhbHVlcyk7XG4gICAgfSk7XG4gIH0sXG4gIG11bHRpU2V0OiBmdW5jdGlvbiBtdWx0aVNldChrdlBhaXJzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcblxuICAgICAga3ZQYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPiAwID8gcmVqZWN0KGVycm9ycykgOiByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIG11bHRpTWVyZ2U6IGZ1bmN0aW9uIG11bHRpTWVyZ2Uoa3ZQYWlycykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG5cbiAgICAgIGt2UGFpcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjRbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWY0WzFdO1xuXG4gICAgICAgIHZhciByYXdWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgaWYgKCFyYXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSgoMCwgX2xvZGFzaDIuZGVmYXVsdCkoSlNPTi5wYXJzZShyYXdWYWx1ZSksIEpTT04ucGFyc2UodmFsdWUpKSkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID4gMCA/IHJlamVjdChlcnJvcnMpIDogcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9LFxuICBtdWx0aVJlbW92ZTogZnVuY3Rpb24gbXVsdGlSZW1vdmUoa2V5cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0sXG4gIGZsdXNoR2V0UmVxdWVzdHM6IGZ1bmN0aW9uIGZsdXNoR2V0UmVxdWVzdHMoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY29uc29sZS53YXJuKCdBc3luY1N0b3JhZ2UuZmx1c2hHZXRSZXF1ZXN0czogTm90IHN1cHBvcnRlZCBvbiBgd2ViYCcpO1xuICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBUEk7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICByZXR1cm4gdHlwZXM7XG4gICAgfVxuXG4gICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbnZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICB9XG4gICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgfVxuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICByZXN1bHQgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAqICBjb3VudGVycGFydHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfSwga2V5c0luKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gIGlmIChzdGFja2VkKSB7XG4gICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBpZiAoaXNDb21tb24pIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICB9XG4gIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgIDoge307XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAqL1xuZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC41LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHtcbiAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAqIH07XG4gKlxuICogdmFyIG90aGVyID0ge1xuICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICogfTtcbiAqXG4gKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICovXG52YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZTtcbiIsImltcG9ydCB7SUZsYWdzbWl0aH0gZnJvbSBcIi4vdHlwZXNcIjtcblxubGV0IF9mZXRjaDogdHlwZW9mIGdsb2JhbC5mZXRjaDtcbmxldCBBc3luY1N0b3JhZ2U7XG5jb25zdCBGTEFHU01JVEhfS0VZID0gXCJCVUxMRVRfVFJBSU5fREJcIjtcbmNvbnN0IEZMQUdTTUlUSF9FVkVOVCA9IFwiQlVMTEVUX1RSQUlOX0VWRU5UXCI7XG5jb25zdCBkZWZhdWx0QVBJID0gJ2h0dHBzOi8vYXBpLmZsYWdzbWl0aC5jb20vYXBpL3YxLyc7XG5jb25zdCBkZWVwRXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKTtcblxuY29uc3QgaW5pdEVycm9yID0gZnVuY3Rpb24gKGNhbGxlcikge1xuICAgIHJldHVybiBcIkF0dGVtcHRlZCB0byBcIiArIGNhbGxlciArIFwiIGEgdXNlciBiZWZvcmUgY2FsbGluZyBmbGFnc21pdGguaW5pdC4gQ2FsbCBmbGFnc21pdGguaW5pdCBmaXJzdCwgaWYgeW91IHdpc2ggdG8gcHJldmVudCBpdCBzZW5kaW5nIGEgcmVxdWVzdCBmb3IgZmxhZ3MsIGNhbGwgaW5pdCB3aXRoIHByZXZlbnRGZXRjaDp0cnVlLlwiXG59XG5cbmNvbnN0IEZsYWdzbWl0aCA9IGNsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wcy5mZXRjaCkge1xuICAgICAgICAgICAgX2ZldGNoID0gcHJvcHMuZmV0Y2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfZmV0Y2ggPSBnbG9iYWwuZmV0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgQXN5bmNTdG9yYWdlID0gcHJvcHMuQXN5bmNTdG9yYWdlO1xuICAgIH1cblxuICAgIGdldEpTT04gPSAodXJsOnN0cmluZywgbWV0aG9kPzpcIkdFVFwifFwiUE9TVFwifFwiUFVUXCIsIGJvZHk/OkJvZHlJbml0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZW52aXJvbm1lbnRJRCwgaGVhZGVycyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAneC1lbnZpcm9ubWVudC1rZXknOiBlbnZpcm9ubWVudElEXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChtZXRob2QgJiYgbWV0aG9kICE9PSBcIkdFVFwiKVxuICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xuXG4gICAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMuaGVhZGVycywgaGVhZGVycylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2ZldGNoKHVybCwgb3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnIgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMub2sgPyBlcnIgOiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgZ2V0RmxhZ3MgPSAocmVzb2x2ZT86KHY/OmFueSk9PmFueSwgcmVqZWN0Pzoodj86YW55KT0+YW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgb25DaGFuZ2UsIG9uRXJyb3IsIGlkZW50aXR5LCBhcGkgfSA9IHRoaXM7XG4gICAgICAgIGxldCByZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9ICh7IGZsYWdzOiBmZWF0dXJlcywgdHJhaXRzIH0sIHNlZ21lbnRzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndpdGhUcmFpdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgICAgICAgIGxldCBmbGFncyA9IHt9O1xuICAgICAgICAgICAgbGV0IHVzZXJUcmFpdHMgPSB7fTtcbiAgICAgICAgICAgIGZlYXR1cmVzID0gZmVhdHVyZXMgfHwgW107XG4gICAgICAgICAgICB0cmFpdHMgPSB0cmFpdHMgfHwgW107XG4gICAgICAgICAgICBmZWF0dXJlcy5mb3JFYWNoKGZlYXR1cmUgPT4ge1xuICAgICAgICAgICAgICAgIGZsYWdzW2ZlYXR1cmUuZmVhdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGZlYXR1cmUuZmVhdHVyZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmVhdHVyZS5lbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZmVhdHVyZS5mZWF0dXJlX3N0YXRlX3ZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgICAgICAgICAgIHVzZXJUcmFpdHNbdHJhaXQudHJhaXRfa2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpXSA9IHRyYWl0LnRyYWl0X3ZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub2xkRmxhZ3MgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5mbGFnc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzZWdtZW50cykge1xuICAgICAgICAgICAgICAgIGxldCB1c2VyU2VnbWVudHMgPSB7fTtcbiAgICAgICAgICAgICAgICBzZWdtZW50cy5tYXAoKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlclNlZ21lbnRzW3MubmFtZV0gPSBzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudHMgPSB1c2VyU2VnbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmbGFnc0VxdWFsID0gZGVlcEVxdWFsKHRoaXMuZmxhZ3MsIGZsYWdzKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYWl0c0VxdWFsID0gZGVlcEVxdWFsKHRoaXMudHJhaXRzLCB1c2VyVHJhaXRzKTtcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgICAgIHRoaXMudHJhaXRzID0gdXNlclRyYWl0cztcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RvcmFnZSgpO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UodGhpcy5vbGRGbGFncywge1xuICAgICAgICAgICAgICAgICAgICBpc0Zyb21TZXJ2ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzQ2hhbmdlZDogIWZsYWdzRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0c0NoYW5nZWQ6ICF0cmFpdHNFcXVhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpZGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLndpdGhUcmFpdHM/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SlNPTihhcGkgKyAnaWRlbnRpdGllcy8nLCBcIlBPU1RcIiwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZGVudGlmaWVyXCI6IGlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhaXRzOiBPYmplY3Qua2V5cyh0aGlzLndpdGhUcmFpdHMpLm1hcCgoayk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cmFpdF9rZXlcIjprLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHJhaXRfdmFsdWVcIjogdGhpcy53aXRoVHJhaXRzW2tdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgfSkpOlxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SlNPTihhcGkgKyAnaWRlbnRpdGllcy8/aWRlbnRpZmllcj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkZW50aXR5KSksXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZXNwb25zZShyZXNbMF0sIHJlc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmUgJiYgIXJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoeyBtZXNzYWdlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKHsgbWVzc2FnZSB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEpTT04oYXBpICsgXCJmbGFncy9cIilcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKHsgZmxhZ3M6IHJlc1swXSB9LCBudWxsKVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZSAmJiAhcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlamVjdCAmJiAhcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IgJiYgb25FcnJvcihlcnIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYW5hbHl0aWNzRmxhZ3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYXBpIH0gPSB0aGlzO1xuICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5ldmFsdWF0aW9uRXZlbnQpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SlNPTihhcGkgKyAnYW5hbHl0aWNzL2ZsYWdzLycsICdQT1NUJywgSlNPTi5zdHJpbmdpZnkodGhpcy5ldmFsdWF0aW9uRXZlbnQpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uRXZlbnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFdmVudFN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiRXhjZXB0aW9uIGZldGNoaW5nIGV2YWx1YXRpb25FdmVudFwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFuYWx5dGljc0ludGVydmFsPSBudWxsXG4gICAgYXBpPSBudWxsXG4gICAgY2FjaGVGbGFncz0gbnVsbFxuICAgIGVuYWJsZUFuYWx5dGljcz0gbnVsbFxuICAgIGVuYWJsZUxvZ3M9IG51bGxcbiAgICBlbnZpcm9ubWVudElEPSBudWxsXG4gICAgZXZhbHVhdGlvbkV2ZW50PSBudWxsXG4gICAgZmxhZ3M9IG51bGxcbiAgICBnZXRGbGFnSW50ZXJ2YWw9IG51bGxcbiAgICBoZWFkZXJzPSBudWxsXG4gICAgaW5pdGlhbGlzZWQ9IG51bGxcbiAgICBvbGRGbGFncz0gbnVsbFxuICAgIG9uQ2hhbmdlPSBudWxsXG4gICAgb25FcnJvcj0gbnVsbFxuICAgIGlkZW50aXR5PSBudWxsXG4gICAgc2VnbWVudHM9IG51bGxcbiAgICB0aWNrcz0gbnVsbFxuICAgIHRpbWVyPSBudWxsXG4gICAgdHJhaXRzPSBudWxsXG4gICAgd2l0aFRyYWl0cz0gbnVsbFxuXG4gICAgaW5pdCh7XG4gICAgICAgIGVudmlyb25tZW50SUQsXG4gICAgICAgIGFwaSA9IGRlZmF1bHRBUEksXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICBjYWNoZUZsYWdzLFxuICAgICAgICBvbkVycm9yLFxuICAgICAgICBkZWZhdWx0RmxhZ3MsXG4gICAgICAgIHByZXZlbnRGZXRjaCxcbiAgICAgICAgZW5hYmxlTG9ncyxcbiAgICAgICAgZW5hYmxlQW5hbHl0aWNzLFxuICAgICAgICBBc3luY1N0b3JhZ2U6IF9Bc3luY1N0b3JhZ2UsXG4gICAgICAgIHN0YXRlXG4gICAgfSkge1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50SUQgPSBlbnZpcm9ubWVudElEO1xuICAgICAgICAgICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICAgICAgdGhpcy5nZXRGbGFnSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbmFseXRpY3NJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlID0gb25DaGFuZ2U7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVMb2dzID0gZW5hYmxlTG9ncztcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlQW5hbHl0aWNzID0gZW5hYmxlQW5hbHl0aWNzID8gZW5hYmxlQW5hbHl0aWNzIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZsYWdzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEZsYWdzKSB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aWNrcyA9IDEwMDAwO1xuXG5cbiAgICAgICAgICAgIHRoaXMudGltZXIgPSB0aGlzLmVuYWJsZUxvZ3MgPyBuZXcgRGF0ZSgpLnZhbHVlT2YoKSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoX0FzeW5jU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIEFzeW5jU3RvcmFnZSA9IF9Bc3luY1N0b3JhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNhY2hlRmxhZ3MgPSB0eXBlb2YgQXN5bmNTdG9yYWdlICE9PSAndW5kZWZpbmVkJyAmJiBjYWNoZUZsYWdzO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcbiAgICAgICAgICAgIGlmICghZW52aXJvbm1lbnRJRCkge1xuICAgICAgICAgICAgICAgIHJlamVjdCgnUGxlYXNlIHNwZWNpZnkgYSBlbnZpcm9ubWVudCBpZCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgKCdQbGVhc2Ugc3BlY2lmeSBhIGVudmlyb25tZW50IGlkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5nZXRJdGVtKEZMQUdTTUlUSF9FVkVOVClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnQgPSBKU09OLnBhcnNlKHJlcylcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZhbHVhdGlvbkV2ZW50ID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmFseXRpY3NJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuYW5hbHl0aWNzRmxhZ3MsIHRoaXMudGlja3MpO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUFuYWx5dGljcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuYWx5dGljc0ludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hbmFseXRpY3NJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQXN5bmNTdG9yYWdlLmdldEl0ZW0oRkxBR1NNSVRIX0VWRU5ULCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiUmV0cmlldmVkIGV2ZW50cyBmcm9tIGNhY2hlXCIsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uRXZlbnQ6IGpzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9JZiB0aGUgdXNlciBzcGVjaWZpZWQgZGVmYXVsdCBmbGFncyBlbWl0IGEgY2hhbmdlZCBldmVudCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGNhY2hlRmxhZ3MpIHtcbiAgICAgICAgICAgICAgICBBc3luY1N0b3JhZ2UuZ2V0SXRlbShGTEFHU01JVEhfS0VZLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiAmJiBqc29uLmFwaSA9PT0gdGhpcy5hcGkgJiYganNvbi5lbnZpcm9ubWVudElEID09PSB0aGlzLmVudmlyb25tZW50SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2coXCJSZXRyaWV2ZWQgZmxhZ3MgZnJvbSBjYWNoZVwiLCBqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mbGFncykgeyAvLyByZXRyaWV2ZWQgZmxhZ3MgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKG51bGwsIHsgaXNGcm9tU2VydmVyOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9sZEZsYWdzID0gdGhpcy5mbGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmxhZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJldmVudEZldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKFwiRXhjZXB0aW9uIGZldGNoaW5nIGNhY2hlZCBsb2dzXCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2ZW50RmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKHJlc29sdmUsIHJlamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRGbGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKG51bGwsIHsgaXNGcm9tU2VydmVyOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcHJldmVudEZldGNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRGbGFncyhyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdEZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UobnVsbCwgeyBpc0Zyb21TZXJ2ZXI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gb25FcnJvciAmJiBvbkVycm9yKGVycm9yKSk7XG4gICAgfVxuXG4gICAgZ2V0QWxsRmxhZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYWdzO1xuICAgIH1cblxuICAgIGlkZW50aWZ5KHVzZXJJZCwgdHJhaXRzKSB7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkgPSB1c2VySWQ7XG4gICAgICAgIGlmKHRyYWl0cykge1xuICAgICAgICAgICAgdGhpcy53aXRoVHJhaXRzID0gdHJhaXRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkICYmICF0aGlzLmdldEZsYWdJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgICAgICAgZW52aXJvbm1lbnRJRDogdGhpcy5lbnZpcm9ubWVudElELFxuICAgICAgICAgICAgZmxhZ3M6IHRoaXMuZmxhZ3MsXG4gICAgICAgICAgICBpZGVudGl0eTogdGhpcy5pZGVudGl0eSxcbiAgICAgICAgICAgIHNlZ21lbnRzOiB0aGlzLnNlZ21lbnRzLFxuICAgICAgICAgICAgdHJhaXRzOiB0aGlzLnRyYWl0cyxcbiAgICAgICAgICAgIGV2YWx1YXRpb25FdmVudDogdGhpcy5ldmFsdWF0aW9uRXZlbnQsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hcGkgPSBzdGF0ZS5hcGkgfHwgdGhpcy5hcGkgfHwgZGVmYXVsdEFQSTtcbiAgICAgICAgICAgIHRoaXMuZW52aXJvbm1lbnRJRCA9IHN0YXRlLmVudmlyb25tZW50SUQgfHwgdGhpcy5lbnZpcm9ubWVudElEO1xuICAgICAgICAgICAgdGhpcy5mbGFncyA9IHN0YXRlLmZsYWdzIHx8IHRoaXMuZmxhZ3M7XG4gICAgICAgICAgICB0aGlzLmlkZW50aXR5ID0gc3RhdGUuaWRlbnRpdHkgfHwgdGhpcy5pZGVudGl0eTtcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudHMgPSBzdGF0ZS5zZWdtZW50cyB8fCB0aGlzLnNlZ21lbnRzO1xuICAgICAgICAgICAgdGhpcy50cmFpdHMgPSBzdGF0ZS50cmFpdHMgfHwgdGhpcy50cmFpdHM7XG4gICAgICAgICAgICB0aGlzLmV2YWx1YXRpb25FdmVudCA9IHN0YXRlLmV2YWx1YXRpb25FdmVudCB8fCB0aGlzLmV2YWx1YXRpb25FdmVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvZyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZUxvZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KHRoaXMsIFtcIkZMQUdTTUlUSDpcIiwgbmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0aGlzLnRpbWVyLCBcIm1zXCIsIC4uLmFyZ3NdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVN0b3JhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlRmxhZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgIHRoaXMubG9nKFwiU2V0dGluZyBzdG9yYWdlXCIsIHN0YXRlKTtcbiAgICAgICAgICAgIEFzeW5jU3RvcmFnZS5zZXRJdGVtKEZMQUdTTUlUSF9LRVksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUV2ZW50U3RvcmFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudHMgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldFN0YXRlKCkuZXZhbHVhdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMubG9nKFwiU2V0dGluZyBldmVudCBzdG9yYWdlXCIsIGV2ZW50cyk7XG4gICAgICAgICAgICBBc3luY1N0b3JhZ2Uuc2V0SXRlbShGTEFHU01JVEhfRVZFTlQsIGV2ZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dvdXQoKSB7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkgPSBudWxsO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFpdHMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXNlZCAmJiAhdGhpcy5nZXRGbGFnSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZsYWdzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHN0YXJ0TGlzdGVuaW5nKHRpY2tzID0gMTAwMCkge1xuICAgICAgICBpZiAodGhpcy5nZXRGbGFnSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nZXRGbGFnSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0RmxhZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRGbGFncywgdGlja3MpO1xuICAgIH1cblxuICAgIHN0b3BMaXN0ZW5pbmcoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nZXRGbGFnSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLmdldEZsYWdJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U2VnbWVudHMoKSB7XG4gICAgICAgIC8vIG5vb3AgZm9yIG5vd1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5zZWdtZW50cztcbiAgICB9XG5cbiAgICBldmFsdWF0ZUZsYWcgPSAoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZUFuYWx5dGljcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2YWx1YXRpb25FdmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHRoaXMuZXZhbHVhdGlvbkV2ZW50W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZhbHVhdGlvbkV2ZW50W2tleV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uRXZlbnRba2V5XSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlRXZlbnRTdG9yYWdlKCk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGZsYWcgPSB0aGlzLmZsYWdzICYmIHRoaXMuZmxhZ3Nba2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpXTtcbiAgICAgICAgbGV0IHJlcyA9IG51bGw7XG4gICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICByZXMgPSBmbGFnLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZhbHVhdGVGbGFnKGtleSk7XG5cbiAgICAgICAgLy90b2RvIHJlY29yZCBjaGVjayBmb3IgdmFsdWVcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGdldFRyYWl0ID0gKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB0cmFpdCA9IHRoaXMudHJhaXRzICYmIHRoaXMudHJhaXRzW2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJ18nKV07XG4gICAgICAgIHJldHVybiB0cmFpdDtcbiAgICB9XG5cbiAgICBzZXRUcmFpdCA9IChrZXksIHRyYWl0X3ZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZ2V0SlNPTiwgaWRlbnRpdHksIGFwaSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoIWFwaSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihpbml0RXJyb3IoXCJzZXRUcmFpdFwiKSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgICAgICAgIFwiaWRlbnRpZmllclwiOiBpZGVudGl0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwidHJhaXRfa2V5XCI6IGtleSxcbiAgICAgICAgICAgIFwidHJhaXRfdmFsdWVcIjogdHJhaXRfdmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRKU09OKGAke2FwaX10cmFpdHMvYCwgJ1BPU1QnLCBKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0aWFsaXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZsYWdzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICBzZXRUcmFpdHMgPSAodHJhaXRzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZ2V0SlNPTiwgaWRlbnRpdHksIGFwaSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoIWFwaSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihpbml0RXJyb3IoXCJzZXRUcmFpdHNcIikpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdHJhaXRzIHx8IHR5cGVvZiB0cmFpdHMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXhwZWN0ZWQgb2JqZWN0IGZvciBmbGFnc21pdGguc2V0VHJhaXRzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9keSA9IE9iamVjdC5rZXlzKHRyYWl0cykubWFwKChrZXkpID0+IChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImlkZW50aXR5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZGVudGlmaWVyXCI6IGlkZW50aXR5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInRyYWl0X2tleVwiOiBrZXksXG4gICAgICAgICAgICAgICAgXCJ0cmFpdF92YWx1ZVwiOiB0cmFpdHNba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICApKVxuXG4gICAgICAgIHJldHVybiBnZXRKU09OKGAke2FwaX10cmFpdHMvYnVsay9gLCAnUFVUJywgSlNPTi5zdHJpbmdpZnkoYm9keSkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGlzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGbGFncygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgaW5jcmVtZW50VHJhaXQgPSAodHJhaXRfa2V5LCBpbmNyZW1lbnRfYnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRKU09OLCBpZGVudGl0eSwgYXBpIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gZ2V0SlNPTihgJHthcGl9dHJhaXRzL2luY3JlbWVudC12YWx1ZS9gLCAnUE9TVCcsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRyYWl0X2tleSxcbiAgICAgICAgICAgIGluY3JlbWVudF9ieSxcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aXR5XG4gICAgICAgIH0pKVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgLnRoZW4odGhpcy5nZXRGbGFncylcbiAgICB9O1xuXG4gICAgaGFzRmVhdHVyZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgZmxhZyA9IHRoaXMuZmxhZ3MgJiYgdGhpcy5mbGFnc1trZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csICdfJyldO1xuICAgICAgICBsZXQgcmVzID0gZmFsc2U7XG4gICAgICAgIGlmIChmbGFnICYmIGZsYWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2YWx1YXRlRmxhZyhrZXkpO1xuXG4gICAgICAgIC8vdG9kbyByZWNvcmQgY2hlY2sgZm9yIGZlYXR1cmVcblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxufTtcblxudHlwZSBDb25maWc9IHtmZXRjaD86YW55LCBBc3luY1N0b3JhZ2U/OmFueX07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh7IGZldGNoLCBBc3luY1N0b3JhZ2UgfTpDb25maWcpOklGbGFnc21pdGgge1xuICAgIHJldHVybiBuZXcgRmxhZ3NtaXRoKHsgZmV0Y2gsIEFzeW5jU3RvcmFnZSB9KSBhcyBJRmxhZ3NtaXRoO1xufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJpbXBvcnQgQXN5bmNTdG9yYWdlIGZyb20gXCJAY2FsbHN0YWNrL2FzeW5jLXN0b3JhZ2VcIjtcbmNvbnN0IGNvcmUgPSByZXF1aXJlKCcuL2ZsYWdzbWl0aC1jb3JlJyk7XG5jb25zdCBmbGFnc21pdGggPSBjb3JlKHtBc3luY1N0b3JhZ2V9KTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHdpbmRvdy5mbGFnc21pdGggPSBmbGFnc21pdGg7XG59XG5leHBvcnQgZGVmYXVsdCBmbGFnc21pdGg7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIm9iaiIsIl9zbGljZWRUb0FycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJfaSIsIm5leHQiLCJkb25lIiwicHVzaCIsImxlbmd0aCIsImVyciIsInNsaWNlSXRlcmF0b3IiLCJUeXBlRXJyb3IiLCJfbG9kYXNoMiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiQVBJIiwiZ2V0SXRlbSIsImtleSIsImNiIiwibXVsdGlHZXQiLCJ0aGVuIiwidmFsdWVzIiwiZGF0YSIsImNhdGNoIiwic2V0SXRlbSIsIm11bHRpU2V0IiwiZ2V0QWxsS2V5cyIsIlByb21pc2UiLCJyZXNvbHZlIiwia2V5cyIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJtdWx0aVJlbW92ZSIsImNsZWFyIiwid2luZG93IiwibWVyZ2VJdGVtIiwibXVsdGlNZXJnZSIsInJlZHVjZSIsImFjYyIsImNvbmNhdCIsImt2UGFpcnMiLCJyZWplY3QiLCJlcnJvcnMiLCJmb3JFYWNoIiwiX3JlZiIsIl9yZWYyIiwiZXJyb3IiLCJfcmVmMyIsIl9yZWY0IiwicmF3VmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJmbHVzaEdldFJlcXVlc3RzIiwiY29uc29sZSIsIndhcm4iLCJlcXVhbCIsImIiLCJjb25zdHJ1Y3RvciIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwidmFsdWVPZiIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfU0FGRV9JTlRFR0VSIiwiYXJnc1RhZyIsImZ1bmNUYWciLCJvYmplY3RUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJyZXF1aXJlIiwidHlwZXMiLCJiaW5kaW5nIiwiZSIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcHBseSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJncyIsInVpZCIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiZXhlYyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwicmVJc05hdGl2ZSIsInJlcGxhY2UiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiZ2V0UHJvdG90eXBlIiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGVPZiIsImFyZyIsIm9iamVjdENyZWF0ZSIsImNyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ltVG9TdHJpbmdUYWciLCJ0b1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVNYXgiLCJNYXRoIiwibWF4IiwibmF0aXZlTm93IiwiRGF0ZSIsIm5vdyIsIk1hcCIsIm5hdGl2ZUNyZWF0ZSIsImJhc2VDcmVhdGUiLCJvYmplY3QiLCJwcm90byIsImlzT2JqZWN0IiwicmVzdWx0IiwiSGFzaCIsImVudHJpZXMiLCJpbmRleCIsImVudHJ5Iiwic2V0IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTdGFjayIsIl9fZGF0YV9fIiwic2l6ZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJhcnJheSIsImhhcyIsImdldCIsInBvcCIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJjdXN0b21pemVyIiwic3RhY2siLCJpdGVyYXRlZSIsImtleXNGdW5jIiwiaXRlcmFibGUiLCJwcm9wcyIsImJhc2VGb3IiLCJzcmNWYWx1ZSIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJzdGFja2VkIiwidHlwZWRBcnJheSIsImJ1ZmZlciIsImFycmF5QnVmZmVyIiwibmV3VmFsdWUiLCJpc0NvbW1vbiIsImlzQXJyIiwiaXNCdWZmIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlIiwiY29weUFycmF5IiwiaXNEZWVwIiwic2xpY2UiLCJjbG9uZUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJpc0FyZ3VtZW50cyIsImlzTmV3IiwiY29weU9iamVjdCIsImtleXNJbiIsInRvUGxhaW5PYmplY3QiLCJpc0Z1bmN0aW9uIiwiaXNQcm90b3R5cGUiLCJpbml0Q2xvbmVPYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZVNldFRvU3RyaW5nIiwic3RyaW5nIiwiaWRlbnRpdHkiLCJtYXAiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJpc01hc2tlZCIsInRlc3QiLCJ0b1NvdXJjZSIsImJhc2VJc05hdGl2ZSIsImlzSW5kZXgiLCJzZXRUb1N0cmluZyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwiYXJndW1lbnRzIiwic2hvcnRPdXQiLCJvdGhlciIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiaW5oZXJpdGVkIiwiaXNBcmciLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIm4iLCJiYXNlVGltZXMiLCJTdHJpbmciLCJhcnJheUxpa2VLZXlzIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VLZXlzSW4iLCJhc3NpZ25lciIsIm1lcmdlIiwic3RhcnQiLCJvdGhlckFyZ3MiLCJvdmVyUmVzdCIsImJhc2VSZXN0Iiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJfZmV0Y2giLCJBc3luY1N0b3JhZ2UiLCJGTEFHU01JVEhfS0VZIiwiRkxBR1NNSVRIX0VWRU5UIiwiZGVmYXVsdEFQSSIsImRlZXBFcXVhbCIsImluaXRFcnJvciIsImNhbGxlciIsIkZsYWdzbWl0aCIsImdldEpTT04iLCJ1cmwiLCJtZXRob2QiLCJib2R5IiwiZW52aXJvbm1lbnRJRCIsImhlYWRlcnMiLCJvcHRpb25zIiwiYXNzaWduIiwicmVzIiwidGV4dCIsIm9rIiwiZ2V0RmxhZ3MiLCJvbkNoYW5nZSIsIm9uRXJyb3IiLCJhcGkiLCJyZXNvbHZlZCIsImhhbmRsZVJlc3BvbnNlIiwic2VnbWVudHMiLCJmZWF0dXJlcyIsInRyYWl0cyIsIndpdGhUcmFpdHMiLCJ1c2VyVHJhaXRzIiwiZmVhdHVyZSIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImlkIiwiZW5hYmxlZCIsImZlYXR1cmVfc3RhdGVfdmFsdWUiLCJ0cmFpdCIsInRyYWl0X2tleSIsInRyYWl0X3ZhbHVlIiwib2xkRmxhZ3MiLCJzIiwiZmxhZ3NFcXVhbCIsInRyYWl0c0VxdWFsIiwidXBkYXRlU3RvcmFnZSIsImlzRnJvbVNlcnZlciIsImZsYWdzQ2hhbmdlZCIsInRyYWl0c0NoYW5nZWQiLCJhbGwiLCJrIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWVzc2FnZSIsImFuYWx5dGljc0ZsYWdzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImV2YWx1YXRpb25FdmVudCIsInN0YXRlIiwiZ2V0U3RhdGUiLCJzZXRTdGF0ZSIsInVwZGF0ZUV2ZW50U3RvcmFnZSIsImxvZyIsImFuYWx5dGljc0ludGVydmFsIiwiY2FjaGVGbGFncyIsImVuYWJsZUFuYWx5dGljcyIsImVuYWJsZUxvZ3MiLCJnZXRGbGFnSW50ZXJ2YWwiLCJpbml0aWFsaXNlZCIsInRpY2tzIiwidGltZXIiLCJldmFsdWF0ZUZsYWciLCJmbGFnIiwiZ2V0VHJhaXQiLCJzZXRUcmFpdCIsInNldFRyYWl0cyIsImluY3JlbWVudFRyYWl0IiwiaW5jcmVtZW50X2J5IiwiaWRlbnRpZmllciIsImhhc0ZlYXR1cmUiLCJmZXRjaCIsImluaXQiLCJkZWZhdWx0RmxhZ3MiLCJwcmV2ZW50RmV0Y2giLCJfQXN5bmNTdG9yYWdlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwianNvbiIsImdldEFsbEZsYWdzIiwiaWRlbnRpZnkiLCJ1c2VySWQiLCJldmVudHMiLCJsb2dvdXQiLCJzdGFydExpc3RlbmluZyIsInN0b3BMaXN0ZW5pbmciLCJnZXRTZWdtZW50cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJubWQiLCJwYXRocyIsImNoaWxkcmVuIiwiZmxhZ3NtaXRoIiwiY29yZSJdLCJzb3VyY2VSb290IjoiIn0=