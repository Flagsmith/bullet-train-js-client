!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.flagsmith=t(require("react")):e.flagsmith=t(e.react)}(global,(function(e){return(()=>{"use strict";var t={798:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.FlagsmithProvider=t.FlagsmithContext=void 0;var o=r(156);t.FlagsmithContext=(0,o.createContext)(null);var a=r(73);t.FlagsmithProvider=function(e){var r=e.flagsmith,i=e.options,u=e.serverState,s=e.children;return u&&!r.api&&r.setState(u),(0,o.useEffect)((function(){r.init(n(n({},i),{onChange:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.onChange&&i.onChange.apply(i,e),a.default.trigger("event")}}))}),[]),o.default.createElement(t.FlagsmithContext.Provider,{value:r},s)},t.default=t.FlagsmithProvider},545:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(644),t),o(r(408),t),o(r(798),t)},644:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFlags=void 0;var n=r(156),o=r(798),a=r(73),i=function(e){var t=(0,n.useRef)(e);return t.current||(t.current=e),t.current},u=function(e){if("string"==typeof e)return[e];if("object"==typeof e&&e.hasOwnProperty("length"))return e;throw new Error("Flagsmith: please supply an array of strings or a single string of flag keys to useFlags")},s=function(e,t,r){return void 0===r&&(r=[]),t.map((function(t){return"".concat(e.getValue(t)).concat(e.hasFeature(t))})).concat(r.map((function(t){return"".concat(e.getTrait(t))}))).join(",")};t.useFlags=function(e,t){var r=i(u(e)),f=i(u(t)),c=(0,n.useContext)(o.FlagsmithContext),l=(0,n.useState)(s(c,r)),h=l[0],p=l[1],g=(0,n.useRef)(h),v=(0,n.useCallback)((function(){var e=s(c,r,f);e!==g.current&&(g.current=e,p(e))}),[]);return(0,n.useEffect)((function(){return a.default.on("event",v),function(){a.default.off("event",v)}}),[]),(0,n.useMemo)((function(){var e={};return r.map((function(t){e[t]={enabled:c.hasFeature(t),value:c.getValue(t)}})),e}),[h])}},408:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFlagsmith=void 0;var n=r(156),o=r(798);t.useFlagsmith=function(){var e=(0,n.useContext)(o.FlagsmithContext);if(!e)throw new Error("useFlagsmith must be used with in a FlagsmithProvider");return e}},73:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n=new function e(){for(var t={},r=this,n=0;n<arguments.length;n++){var o=arguments[n];switch(typeof o){case"string":t[o]=[];break;case"object":r=o;break;default:throw new TypeError("Eventjs() only accepts string and object parameters")}}if(r===this&&!(this instanceof e))throw new ReferenceError('Eventjs is not called with "new" keyword and no parameter of type object is passed to it');function a(e){if("string"!=typeof e||!t[e])throw new ReferenceError("The event name does not exist in this event manager: "+e);return!0}return r.on=function(e){a(e);for(var r=1;r<arguments.length;r++){var n=arguments[r];-1===t[e].indexOf(n)&&t[e].push(n)}return this},r.off=function(e){switch(arguments.length){case 0:for(var n in t)t.hasOwnProperty(n)&&r.off(n);break;case 1:a(e),t[e].length=0;break;default:a(e);for(var o=1;o<arguments.length;o++){var i=arguments[o],u=t[e].indexOf(i);-1!==u&&t[e].splice(u,1)}}return this},r.trigger=function(e){a(e);for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);for(var i=t[e],u=[],s=0;s<i.length;s++){var f=i[s];try{f.apply(r,n)}catch(e){u.push({listener:f,error:e})}}if(u.length>0)throw u;return this},r}("event")},156:t=>{t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(545)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsWUFBYSxDQUFFNUUsTUFBTyxXQUU3RG9FLE9BQU9DLGVBQWUzRixFQUFTLGFBQWMsQ0FBRXNCLE9BQU8sS0NGN0IyRCxFQUFvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxhZ3NtaXRoL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9mbGFnc21pdGgvLi9yZWFjdC9GbGFnc21pdGhQcm92aWRlci50c3giLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vcmVhY3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vcmVhY3QvdXNlRmxhZ3MudHMiLCJ3ZWJwYWNrOi8vZmxhZ3NtaXRoLy4vcmVhY3QvdXNlRmxhZ3NtaXRoLnRzIiwid2VicGFjazovL2ZsYWdzbWl0aC8uL3JlYWN0L3V0aWwvZXZlbnRzLmpzIiwid2VicGFjazovL2ZsYWdzbWl0aC9leHRlcm5hbCB1bWQgXCJyZWFjdFwiIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mbGFnc21pdGgvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2ZsYWdzbWl0aC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZmxhZ3NtaXRoXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImZsYWdzbWl0aFwiXSA9IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18pIHtcbnJldHVybiAiLCIvLyBAdHMtaWdub3JlXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgRkMsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IElGbGFnc21pdGgsIElTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgRmxhZ3NtaXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8SUZsYWdzbWl0aCB8IG51bGw+KG51bGwpXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vdXRpbC9ldmVudHMnXG5leHBvcnQgdHlwZSBGbGFnc21pdGhDb250ZXh0VHlwZSA9IHtcbiAgZmxhZ3NtaXRoOiBJRmxhZ3NtaXRoXG4gIHNlcnZlclN0YXRlPzogSVN0YXRlXG4gIG9wdGlvbnM6IFBhcmFtZXRlcnM8SUZsYWdzbWl0aFsnaW5pdCddPlswXVxufVxuXG5leHBvcnQgY29uc3QgRmxhZ3NtaXRoUHJvdmlkZXI6IEZDPEZsYWdzbWl0aENvbnRleHRUeXBlPiA9ICh7XG4gIGZsYWdzbWl0aCxcbiAgb3B0aW9ucyxcbiAgc2VydmVyU3RhdGUsXG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICAvLyBAdHMtaWdub3JlXG4gIGlmIChzZXJ2ZXJTdGF0ZSAmJiAhZmxhZ3NtaXRoLmFwaSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBmbGFnc21pdGguc2V0U3RhdGUoc2VydmVyU3RhdGUpXG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgIGZsYWdzbWl0aC5pbml0KHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBvbkNoYW5nZTogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMub25DaGFuZ2UpIHtcbiAgICAgICAgICBvcHRpb25zLm9uQ2hhbmdlKC4uLmFyZ3MpXG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRzLnRyaWdnZXIoJ2V2ZW50JylcbiAgICAgIH0sXG4gICAgfSlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgW10pXG4gIHJldHVybiAoXG4gICAgPEZsYWdzbWl0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2ZsYWdzbWl0aH0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9GbGFnc21pdGhDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZsYWdzbWl0aFByb3ZpZGVyXG4iLCJleHBvcnQgKiBmcm9tICcuL3VzZUZsYWdzJ1xuZXhwb3J0ICogZnJvbSAnLi91c2VGbGFnc21pdGgnXG5leHBvcnQgKiBmcm9tICcuL0ZsYWdzbWl0aFByb3ZpZGVyJ1xuIiwiaW1wb3J0IHtcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZSxcbiAgLy8gQHRzLWlnbm9yZVxufSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIEZsYWdzbWl0aENvbnRleHQsXG59IGZyb20gJy4vRmxhZ3NtaXRoUHJvdmlkZXInXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgeyBJRmxhZ3NtaXRoLCBJRmxhZ3NtaXRoVHJhaXQsIElGbGFnc21pdGhGZWF0dXJlIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vdXRpbC9ldmVudHMnXG5cbmNvbnN0IHVzZUNvbnN0YW50ID0gZnVuY3Rpb24gPFQ+KHZhbHVlOiBUKTogVCB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZih2YWx1ZSlcbiAgaWYgKCFyZWYuY3VycmVudCkge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWVcbiAgfVxuICByZXR1cm4gcmVmLmN1cnJlbnRcbn1cblxuXG5cblxuY29uc3QgZmxhZ3NBc0FycmF5ID0gKF9mbGFnczogYW55KTogc3RyaW5nW10gPT4ge1xuICBpZiAodHlwZW9mIF9mbGFncyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW19mbGFnc11cbiAgfSBlbHNlIGlmICh0eXBlb2YgX2ZsYWdzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICBpZiAoX2ZsYWdzLmhhc093blByb3BlcnR5KCdsZW5ndGgnKSkge1xuICAgICAgcmV0dXJuIF9mbGFnc1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ0ZsYWdzbWl0aDogcGxlYXNlIHN1cHBseSBhbiBhcnJheSBvZiBzdHJpbmdzIG9yIGEgc2luZ2xlIHN0cmluZyBvZiBmbGFnIGtleXMgdG8gdXNlRmxhZ3MnLFxuICApXG59XG5cbmNvbnN0IGdldFJlbmRlcktleSA9IChmbGFnc21pdGg6IElGbGFnc21pdGgsIGZsYWdzOiBzdHJpbmdbXSwgdHJhaXRzOiBzdHJpbmdbXSA9IFtdKSA9PiB7XG4gIHJldHVybiBmbGFnc1xuICAgIC5tYXAoKGspID0+IHtcbiAgICAgIHJldHVybiBgJHtmbGFnc21pdGguZ2V0VmFsdWUoayl9JHtmbGFnc21pdGguaGFzRmVhdHVyZShrKX1gXG4gICAgfSkuY29uY2F0KHRyYWl0cy5tYXAoKHQpPT4oXG4gICAgICAgIGAke2ZsYWdzbWl0aC5nZXRUcmFpdCh0KX1gXG4gICAgICApKSlcbiAgICAuam9pbignLCcpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGbGFnczxGIGV4dGVuZHMgc3RyaW5nLCBUIGV4dGVuZHMgc3RyaW5nPihfZmxhZ3M6IHJlYWRvbmx5IEZbXSwgX3RyYWl0cz86IHJlYWRvbmx5IFRbXSk6IHtcbiAgW0sgaW4gRl06IElGbGFnc21pdGhGZWF0dXJlXG59ICYge1xuICBbSyBpbiBUXTogSUZsYWdzbWl0aFRyYWl0XG59IHtcbiAgY29uc3QgZmxhZ3MgPSB1c2VDb25zdGFudDxzdHJpbmdbXT4oZmxhZ3NBc0FycmF5KF9mbGFncykpXG4gIGNvbnN0IHRyYWl0cyA9IHVzZUNvbnN0YW50PHN0cmluZ1tdPihmbGFnc0FzQXJyYXkoX3RyYWl0cykpXG4gIGNvbnN0IGZsYWdzbWl0aCA9IHVzZUNvbnRleHQoRmxhZ3NtaXRoQ29udGV4dClcbiAgY29uc3QgW3JlbmRlcktleSwgc2V0UmVuZGVyS2V5XSA9IHVzZVN0YXRlPHN0cmluZz4oXG4gICAgZ2V0UmVuZGVyS2V5KGZsYWdzbWl0aCwgZmxhZ3MpLFxuICApXG4gIGNvbnN0IHJlbmRlclJlZiA9IHVzZVJlZjxzdHJpbmc+KHJlbmRlcktleSlcbiAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBuZXdSZW5kZXJLZXkgPSBnZXRSZW5kZXJLZXkoZmxhZ3NtaXRoLCBmbGFncywgdHJhaXRzKVxuICAgIGlmIChuZXdSZW5kZXJLZXkgIT09IHJlbmRlclJlZi5jdXJyZW50KSB7XG4gICAgICByZW5kZXJSZWYuY3VycmVudCA9IG5ld1JlbmRlcktleVxuICAgICAgc2V0UmVuZGVyS2V5KG5ld1JlbmRlcktleSlcbiAgICB9XG4gIH0sIFtdKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGV2ZW50cy5vbignZXZlbnQnLCBldmVudExpc3RlbmVyKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudHMub2ZmKCdldmVudCcsIGV2ZW50TGlzdGVuZXIpXG4gICAgfVxuICB9LCBbXSlcbiAgY29uc3QgcmVzID0gIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHJlczogYW55ID0ge31cbiAgICBmbGFncy5tYXAoKGspID0+IHtcbiAgICAgIHJlc1trXSA9IHtcbiAgICAgICAgZW5hYmxlZDogZmxhZ3NtaXRoIS5oYXNGZWF0dXJlKGspLFxuICAgICAgICB2YWx1ZTogZmxhZ3NtaXRoIS5nZXRWYWx1ZShrKSxcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiByZXNcbiAgfSwgW3JlbmRlcktleV0pXG5cbiAgcmV0dXJuIHJlc1xufVxuIiwiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEZsYWdzbWl0aENvbnRleHQgfSBmcm9tICcuL0ZsYWdzbWl0aFByb3ZpZGVyJztcbmltcG9ydCB7IElGbGFnc21pdGggfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGNvbnN0IHVzZUZsYWdzbWl0aCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQ8SUZsYWdzbWl0aD4oRmxhZ3NtaXRoQ29udGV4dClcblxuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUZsYWdzbWl0aCBtdXN0IGJlIHVzZWQgd2l0aCBpbiBhIEZsYWdzbWl0aFByb3ZpZGVyJylcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0IGFzIElGbGFnc21pdGhcbn1cbiIsImZ1bmN0aW9uIEV2ZW50anMoKXtcInVzZSBzdHJpY3RcIjt2YXIgZT17fTt2YXIgcj10aGlzO2Zvcih2YXIgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtzd2l0Y2godHlwZW9mIG4pe2Nhc2VcInN0cmluZ1wiOmVbbl09W107YnJlYWs7Y2FzZVwib2JqZWN0XCI6cj1uO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIkV2ZW50anMoKSBvbmx5IGFjY2VwdHMgc3RyaW5nIGFuZCBvYmplY3QgcGFyYW1ldGVyc1wiKTticmVha319aWYocj09PXRoaXMmJiEodGhpcyBpbnN0YW5jZW9mIEV2ZW50anMpKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ0V2ZW50anMgaXMgbm90IGNhbGxlZCB3aXRoIFwibmV3XCIga2V5d29yZCBhbmQgbm8gcGFyYW1ldGVyIG9mIHR5cGUgb2JqZWN0IGlzIHBhc3NlZCB0byBpdCcpfWZ1bmN0aW9uIHMocil7XCJ1c2Ugc3RyaWN0XCI7aWYodHlwZW9mIHIhPT1cInN0cmluZ1wifHwhZVtyXSl7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiVGhlIGV2ZW50IG5hbWUgZG9lcyBub3QgZXhpc3QgaW4gdGhpcyBldmVudCBtYW5hZ2VyOiBcIityKX1yZXR1cm4gdHJ1ZX1yLm9uPWZ1bmN0aW9uKHIpe1widXNlIHN0cmljdFwiO3Mocik7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2lmKGVbcl0uaW5kZXhPZihuKT09PS0xKXtlW3JdLnB1c2gobil9fXJldHVybiB0aGlzfTtyLm9mZj1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOmZvcih2YXIgbiBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KG4pKXtyLm9mZihuKX19YnJlYWs7Y2FzZSAxOnModCk7ZVt0XS5sZW5ndGg9MDticmVhaztkZWZhdWx0OnModCk7Zm9yKHZhciBhPTE7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyl7dmFyIGk9YXJndW1lbnRzW2FdO3ZhciBvPWVbdF0uaW5kZXhPZihpKTtpZihvIT09LTEpe2VbdF0uc3BsaWNlKG8sMSl9fWJyZWFrfXJldHVybiB0aGlzfTtyLnRyaWdnZXI9ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cyh0KTt2YXIgbj1bXTtmb3IodmFyIGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKXtuLnB1c2goYXJndW1lbnRzW2FdKX12YXIgaT1lW3RdO3ZhciBvPVtdO2Zvcih2YXIgZj0wO2Y8aS5sZW5ndGg7ZisrKXt2YXIgdT1pW2ZdO3RyeXt1LmFwcGx5KHIsbil9Y2F0Y2goYyl7by5wdXNoKHtsaXN0ZW5lcjp1LGVycm9yOmN9KX19aWYoby5sZW5ndGg+MCl7dGhyb3cgb31yZXR1cm4gdGhpc307cmV0dXJuIHJ9XG5leHBvcnQgZGVmYXVsdCBuZXcgRXZlbnRqcyggJ2V2ZW50JyApO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NDUpO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXyIsIkZsYWdzbWl0aENvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiRmxhZ3NtaXRoUHJvdmlkZXIiLCJmbGFnc21pdGgiLCJvcHRpb25zIiwic2VydmVyU3RhdGUiLCJjaGlsZHJlbiIsImFwaSIsInNldFN0YXRlIiwidXNlRWZmZWN0IiwiaW5pdCIsIm9uQ2hhbmdlIiwiYXJncyIsInRyaWdnZXIiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQ29uc3RhbnQiLCJyZWYiLCJ1c2VSZWYiLCJjdXJyZW50IiwiZmxhZ3NBc0FycmF5IiwiX2ZsYWdzIiwiaGFzT3duUHJvcGVydHkiLCJFcnJvciIsImdldFJlbmRlcktleSIsImZsYWdzIiwidHJhaXRzIiwibWFwIiwiayIsImdldFZhbHVlIiwiaGFzRmVhdHVyZSIsImNvbmNhdCIsInQiLCJnZXRUcmFpdCIsImpvaW4iLCJfdHJhaXRzIiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwicmVuZGVyS2V5Iiwic2V0UmVuZGVyS2V5IiwicmVuZGVyUmVmIiwiZXZlbnRMaXN0ZW5lciIsInVzZUNhbGxiYWNrIiwibmV3UmVuZGVyS2V5Iiwib24iLCJvZmYiLCJ1c2VNZW1vIiwicmVzIiwiZW5hYmxlZCIsInVzZUZsYWdzbWl0aCIsImNvbnRleHQiLCJFdmVudGpzIiwiZSIsInIiLCJ0aGlzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibiIsIlR5cGVFcnJvciIsIlJlZmVyZW5jZUVycm9yIiwicyIsImluZGV4T2YiLCJwdXNoIiwiYSIsImkiLCJvIiwic3BsaWNlIiwiZiIsInUiLCJhcHBseSIsImMiLCJsaXN0ZW5lciIsImVycm9yIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=